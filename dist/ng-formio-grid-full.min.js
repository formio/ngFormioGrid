!function e(t,i,r){function n(a,l){if(!i[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return n(i?i:e)},u,u.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,i){!function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",ENTITY_BINDING:"$$this",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["¤","؋","Ar","Ƀ","฿","B/.","Br","Bs.","Bs.F.","GH₵","¢","c","Ch.","₡","C$","D","ден","دج",".د.ب","د.ع","JD","د.ك","ل.د","дин","د.ت","د.م.","د.إ","Db","$","₫","Esc","€","ƒ","Ft","FBu","FCFA","CFA","Fr","FRw","G","gr","₲","h","₴","₭","Kč","kr","kn","MK","ZK","Kz","K","L","Le","лв","E","lp","M","KM","MT","₥","Nfk","₦","Nu.","UM","T$","MOP$","₱","Pt.","£","ج.م.","LL","LS","P","Q","q","R","R$","ر.ع.","ر.ق","ر.س","៛","RM","p","Rf.","₹","₨","SRe","Rp","₪","Ksh","Sh.So.","USh","S/","SDR","сом","৳\t","WS$","₮","VT","₩","¥","zł"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,i,r){var n={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,n,o,a){function l(){var e=t.col.compiledElementFn;e(t,function(e,t){n.append(e)})}if(a&&t.col.compiledElementFn)l();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){n.append(e)})})["catch"](angular.noop);else{var s=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+i.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),d=e(s)(t);n.append(d)}},post:function(e,t,i,n){var o=e.col.getColClass(!1);t.addClass(o);var a,l=function(i){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,r.addClass(a)};e.col.cellClass&&l();var s=e.grid.registerDataChangeCallback(l,[r.dataChange.COLUMN,r.dataChange.EDIT]),d=function(i,r){if(i!==r){(a||e.col.cellClass)&&l();var n=e.col.getColClass(!1);n!==o&&(t.removeClass(o),t.addClass(n),o=n)}},u=e.$watch("row",d),c=function(){s(),u()};e.$on("$destroy",c),t.on("$destroy",c)}}}};return n}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,i){var r={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return!!(e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting)},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return!(!e.col||!e.col.suppressRemoveSort)},hideable:function(e){return"undefined"==typeof e.col||!e.col||!e.col.colDef||e.col.colDef.enableHiding!==!1},getDefaultMenuItems:function(i){return[{title:function(){return e.getSafeText("sort.ascending")},icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),i.sortColumn(e,t.ASC)},shown:function(){return r.sortable(i)},active:function(){return r.isActiveSort(i,t.ASC)}},{title:function(){return e.getSafeText("sort.descending")},icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),i.sortColumn(e,t.DESC)},shown:function(){return r.sortable(i)},active:function(){return r.isActiveSort(i,t.DESC)}},{title:function(){return e.getSafeText("sort.remove")},icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.unsortColumn()},shown:function(){return r.sortable(i)&&"undefined"!=typeof i.col&&"undefined"!=typeof i.col.sort&&"undefined"!=typeof i.col.sort.direction&&null!==i.col.sort.direction&&!r.suppressRemoveSort(i)}},{title:function(){return e.getSafeText("column.hide")},icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(i)},action:function(e){e.stopPropagation(),i.hideColumn()}}]},getColumnElementPosition:function(e,t,r){var n={};return n.left=r[0].offsetLeft,n.top=r[0].offsetTop,n.parentLeft=r[0].offsetParent.offsetLeft,n.offset=0,t.grid.options.offsetLeft&&(n.offset=t.grid.options.offsetLeft),n.height=i.elementHeight(r,!0),n.width=i.elementWidth(r,!0),n},repositionMenu:function(e,t,r,n,o){var a=n[0].querySelectorAll(".ui-grid-menu"),l=i.closestElm(o,".ui-grid-render-container"),s=l.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,d=l.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,u=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,c=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var g=a[0].querySelectorAll(".ui-grid-menu-mid");0===g.length||angular.element(g).hasClass("ng-hide")||(u=i.elementWidth(a,!0),e.lastMenuWidth=u,t.lastMenuWidth=u,c=parseInt(i.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=c,t.lastMenuPaddingRight=c)}var p=r.left+s-d+r.parentLeft+r.width-u+c;p<r.offset&&(p=r.offset),n.css("left",p+"px"),n.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,i,r,n){var o={priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,l,s){r.initialize(o,s),o.defaultMenuItems=r.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,r.setColMenuItemWatch(o),o.showMenu=function(e,t,i){o.col=e;var n=r.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=n,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:i})):(o.menuShown=!0,r.repositionMenu(o,e,n,a,t),o.colElement=t,o.colElementPosition=n,o.$broadcast("show-menu",{originalEvent:i}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(n,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(n,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()})["catch"](angular.noop)},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var d=function(){e(function(){var e,i=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,i){return angular.equals(t,o.col)?(e=i,!0):void 0});var r;if(o.grid.columns.some(function(t,i){if(!t.visible)return!1;if(e>i)r=t;else{if(i>e&&!r)return r=t,!0;if(i>e&&r)return!0}}),r){var a=r.getColClass();t.focus.bySelector(n,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){return"canceled"!==e?i():void 0})["catch"](angular.noop)}else i()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(i.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),d()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,i,r){return{compile:function(){return{pre:function(t,i,r,n){t.col.updateFilters=function(r){if(i.children().remove(),r){var n=t.col.filterHeaderTemplate;i.append(e(n)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,n,o){e.aria=i.getSafeText("headerCell.aria"),e.removeFilter=function(e,i){e.term=null,r.focus.bySelector(t,".ui-grid-filter-input-"+i)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,i,r){var n={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,n){return{pre:function(e,t,i,n){var o=r(e.col.footerCellTemplate)(e);t.append(o)},post:function(e,t,r,n){e.grid=n.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,l=function(i){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,r.addClass(a)};e.col.footerCellClass&&l(),e.col.updateAggregationValue();var s=e.grid.registerDataChangeCallback(l,[i.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,l),e.$on("$destroy",s)}}}};return n}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,r,n){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,i){return{pre:function(e,i,n,o){var a=o[0],l=o[1];e.grid=a.grid,e.colContainer=l.colContainer,l.footer=i;var s=e.grid.options.footerTemplate;r.getTemplate(s).then(function(r){var n=angular.element(r),o=t(n)(e);if(i.append(o),l){var a=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(l.footerViewport=a)}})["catch"](angular.noop)},post:function(e,t,i,n){var o=n[0],a=n[1];o.grid,r.disableAnimations(t),a.footer=t;var l=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];l&&(a.footerViewport=l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,r,n){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,i){return{pre:function(e,i,n,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;r.getTemplate(a).then(function(r){var n=angular.element(r),o=t(n)(e);i.append(o)})["catch"](angular.noop)},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,i){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,n){return{pre:function(t,n,o,a){var l=t.grid.options.groupPanelTemplate||r;i.getTemplate(l).then(function(i){var r=angular.element(i),o=e(r)(t);n.append(o)})["catch"](angular.noop)},post:function(e,t,i,r){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,i,r,n,o,a,l){var s=500,d=500,u={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,i,r){var n=e(t.col.headerCellTemplate)(t);i.append(n)},post:function(e,i,n,a){var u=a[0],c=a[1];e.i18n={headerCell:l.getSafeText("headerCell"),sort:l.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,i){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,i=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none,r=i;return e.isSortPriorityVisible()&&(r=r+". "+e.i18n.headerCell.priority+" "+(t.sort.priority+1)),r},e.grid=u.grid,e.renderContainer=u.grid.renderContainers[c.containerId];var g=e.col.getColClass(!1);i.addClass(g),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var p,f,m=(angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(i[0].querySelectorAll(".ui-grid-cell-contents"))),h=[];e.downFn=function(n){n.stopPropagation(),"undefined"!=typeof n.originalEvent&&void 0!==n.originalEvent&&(n=n.originalEvent),n.button&&0!==n.button||(f=n.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},s),e.mousedownTimeout.then(function(){e.colMenu&&u.columnMenuScope.showMenu(e.col,i,n)})["catch"](angular.noop),u.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:n,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===n.type?(r.on("touchend",e.upFn),r.on("touchmove",e.moveFn)):"mousedown"===n.type&&(r.on("mouseup",e.upFn),r.on("mousemove",e.moveFn)))},e.upFn=function(i){i.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type);var r=(new Date).getTime(),n=r-e.mousedownStartTime;n>s||e.sortable&&e.handleClick(i)},e.moveFn=function(i){var r=i.pageX-f;0!==r&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type))},e.clickFn=function(t){t.stopPropagation(),m.off("click",e.clickFn)},e.offAllEvents=function(){m.off("touchstart",e.downFn),m.off("mousedown",e.downFn),r.off("touchend",e.upFn),r.off("mouseup",e.upFn),r.off("touchmove",e.moveFn),r.off("mousemove",e.moveFn),m.off("click",e.clickFn)},e.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":m.on("click",e.clickFn),m.on("touchstart",e.downFn),t(function(){m.on("mousedown",e.downFn)},d);break;case"mousemove":case"mouseup":m.on("click",e.clickFn),m.on("mousedown",e.downFn),t(function(){m.on("touchstart",e.downFn)},d);break;default:m.on("click",e.clickFn),m.on("touchstart",e.downFn),m.on("mousedown",e.downFn)}};var v=function(r){var n=i;p&&(n.removeClass(p),p=null),p=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,n.addClass(p),t(function(){var t=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.col.enableSorting?e.sortable=!0:e.sortable=!1;var a=e.filterable;u.grid.options.enableFiltering&&e.col.enableFiltering?e.filterable=!0:e.filterable=!1,a!==e.filterable&&("undefined"!=typeof e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,i){h.push(e.$watch("col.filters["+i+"].term",function(e,t){e!==t&&(u.grid.api.core.raise.filterChanged(),u.grid.api.core.notifyDataChange(o.dataChange.COLUMN),u.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){h.forEach(function(e){e()})})):h.forEach(function(e){e()})),e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?e.colMenu=!0:e.colMenu=!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};v();var C=e.grid.registerDataChangeCallback(v,[o.dataChange.COLUMN]);e.$on("$destroy",C),e.handleClick=function(t){var i=!1;t.shiftKey&&(i=!0),u.grid.sortColumn(e.col,i).then(function(){u.columnMenuScope&&u.columnMenuScope.hideMenu(),u.grid.refresh()})["catch"](angular.noop)},e.toggleMenu=function(t){t.stopPropagation(),u.columnMenuScope.menuShown&&u.columnMenuScope.col===e.col?u.columnMenuScope.hideMenu():u.columnMenuScope.showMenu(e.col,i)}}}}};return u}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,i,r,n,o){var a="ui-grid/ui-grid-header",l="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,i){return{pre:function(e,i,n,s){function d(){g.header=g.colContainer.header=i;var e=i[0].getElementsByClassName("ui-grid-header-canvas");e.length>0?g.headerCanvas=g.colContainer.headerCanvas=e[0]:g.headerCanvas=null}function u(e){if(!c.grid.isScrollingHorizontally){var t=r.normalizeScrollLeft(g.headerViewport,c.grid),i=g.colContainer.scrollHorizontal(t),n=new o(c.grid,null,g.colContainer,o.Sources.ViewPortScroll);n.newScrollLeft=t,i>-1&&(n.x={percentage:i}),c.grid.scrollContainers(null,n)}}var c=s[0],g=s[1];e.grid=c.grid,e.colContainer=g.colContainer,d();var p;p=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:a:l,r.getTemplate(p).then(function(r){var n=angular.element(r),o=t(n)(e);if(i.replaceWith(o),i=o,d(),g){var a=i[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(g.headerViewport=a,angular.element(a).on("scroll",u),e.$on("$destroy",function(){angular.element(a).off("scroll",u)}))}e.grid.queueRefresh()})["catch"](angular.noop)},post:function(e,t,i,n){function o(){var e=l.colContainer.visibleColumnCache,t="",i=0;return e.forEach(function(e){t+=e.getColClassDefinition(),i+=e.drawnWidth}),l.colContainer.canvasWidth=i,t}var a=n[0],l=n[1];a.grid,r.disableAnimations(t),l.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(l.headerViewport=s),a&&a.grid.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,i){var r={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",r.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(t,i){angular.isArray(i)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(i)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,i){var r=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,n){t.id===i&&(r>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=n)}),r>-1&&t.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(i){var n=[];i.grid.options.gridMenuCustomItems&&(angular.isArray(i.grid.options.gridMenuCustomItems)?n=n.concat(i.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){i.grid.clearAllFilters()},shown:function(){return i.grid.options.enableFiltering},order:100}];return n=n.concat(o),n=n.concat(i.registeredMenuItems),i.grid.options.gridMenuShowHideColumns!==!1&&(n=n.concat(r.showHideColumns(i))),n.sort(function(e,t){return e.order-t.order}),n},showHideColumns:function(e){var i=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(i.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,n){if(t.enableHiding!==!1){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*n};r.setMenuItemTitle(o,t,e.grid),i.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*n+1},r.setMenuItemTitle(o,t,e.grid),i.push(o)}}),i):i},setMenuItemTitle:function(t,i,r){var n=r.options.gridMenuTitleFilter(i.displayName||e.readableColumnName(i.name)||i.field);"string"==typeof n?t.title=n:n.then?(t.title="",n.then(function(e){t.title=e},function(e){t.title=e})["catch"](angular.noop)):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(i.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,i,r){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,n,o,a){var l=a[0];t.i18n={aria:r.getSafeText("gridMenu.aria")},i.initialize(t,l.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=i.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(n,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,i,r,n,o,a){var l={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(r,l,s,d){if(r.dynamicStyles="",d&&d.grid&&d.grid.options&&d.grid.options.gridMenuTemplate){var u=d.grid.options.gridMenuTemplate;n.getTemplate(u).then(function(t){var i=angular.element(t),n=e(i)(r);l.replaceWith(n)})["catch"](angular.noop)}var c=function(e){var t=e-d.grid.headerHeight-20;r.dynamicStyles=[".grid"+d.grid.id+" .ui-grid-menu-mid {","max-height: "+t+"px;","}"].join(" ")};d&&(c(d.grid.gridHeight),d.grid.api.core.on.gridDimensionChanged(r,function(e,t,i,r){c(i)})),r.i18n={close:a.getSafeText("columnMenu.close")},r.showMenu=function(e,i){r.shown?r.shownMid||(r.shownMid=!0,r.$emit("menu-shown")):(r.shown=!0,t(function(){r.shownMid=!0,r.$emit("menu-shown")}));var o="click";i&&i.originalEvent&&i.originalEvent.type&&"touchstart"===i.originalEvent.type&&(o=i.originalEvent.type),angular.element(document).off("click touchstart",g),l.off("keyup",p),l.off("keydown",f),t(function(){angular.element(document).on(o,g),l.on("keyup",p),l.on("keydown",f)}),n.focus.bySelector(l,"button[type=button]",!0)},r.hideMenu=function(e){r.shown&&(r.shownMid=!1,t(function(){r.shownMid||(r.shown=!1,r.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",g),l.off("keyup",p),l.off("keydown",f)},r.$on("hide-menu",function(e,t){r.hideMenu(e,t)}),r.$on("show-menu",function(e,t){r.showMenu(e,t)});var g=function(){r.shown&&r.$apply(function(){r.hideMenu()})},p=function(e){27===e.keyCode&&r.hideMenu()},f=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var i,r,n=l[0].querySelectorAll("button:not(.ng-hide)");n.length>0&&(i=n[0],r=n[n.length-1],e.target!==r||e.shiftKey?e.target===i&&e.shiftKey&&t(r):t(i))}};("undefined"==typeof r.autoHide||void 0===r.autoHide)&&(r.autoHide=!0),r.autoHide&&angular.element(i).on("resize",g),r.$on("$destroy",function(){angular.element(i).off("resize",g),angular.element(document).off("click touchstart",g),l.off("keyup",p),l.off("keydown",f)}),d&&r.$on("$destroy",d.grid.api.core.on.scrollBegin(r,g)),r.$on("$destroy",r.$on(o.events.ITEM_DRAGGING,g))}};return l}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,i){var r={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(i,r){i.templateUrl&&e.getTemplate(i.templateUrl).then(function(e){var n=angular.element(e),o=t(n)(i);r.replaceWith(o)})["catch"](angular.noop)},post:function(t,r,n,o){var a=o[0];("undefined"==typeof t.shown||null===t.shown)&&(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),"undefined"!=typeof a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(i,r){if(i.stopPropagation(),"function"==typeof t.action){var n={};t.context&&(n.context=t.context),"undefined"!=typeof a&&a&&(n.grid=a.grid),t.action.call(n,i,r),t.leaveOpen?e.focus.bySelector(angular.element(i.target.parentElement),"button[type=button]",!0):t.$emit("hide-menu")}},t.label=function(){var e=t.name;return"function"==typeof t.name&&(e=t.name.call()),e},t.i18n=i.get()}}}};return r}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var i="uiGridOneBind",r=(t.aria?i+"Aria":i)+(t.directiveName?t.directiveName:t.tag);e.directive(r,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(i,n,o,a){var l=function(t){var n;if(i.grid)n=i.grid;else if(i.col&&i.col.grid)n=i.col.grid;else if(!a.some(function(e){return e&&e.grid?(n=e.grid,!0):void 0}))throw e.logError("["+r+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(n){var o=new RegExp(n.id.toString());o.test(t)||(t=n.id.toString()+"-"+t)}return t},s=i.$watch(o[r],function(e){if(e){if(t.appendGridId){var i=null;angular.forEach(e.split(" "),function(e){i=(i?i+" ":"")+l(e)}),e=i}switch(t.method){case"attr":t.aria?n[t.method]("aria-"+t.tag.toLowerCase(),e):n[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var r=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&"undefined"!=typeof e&&(o=!0,e&&r.push(t))}),!o)return;e=r}if(!e)return;n.addClass(angular.isArray(e)?e.join(" "):e);break;default:n[t.method](e)}s()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,i,r,n){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,i,r){var n=r[0],o=r[1],a=e.grid=n.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var l=e.rowContainer=a.renderContainers[e.rowContainerName],s=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=l,o.colContainer=s},post:function(e,t,i,o){function a(){var t="",i=c.canvasWidth,r=c.getViewportWidth(),n=u.getCanvasHeight(),o=u.getViewportHeight();c.needsHScrollbarPlaceholder()&&(o-=d.scrollbarHeight);var a,s;return a=s=c.getHeaderViewportWidth(),t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+n+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(i+d.scrollbarWidth)+"px; }",t+=f.explicitHeaderCanvasHeight?"\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+f.explicitHeaderCanvasHeight+"px; }":"\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+o+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(i+d.scrollbarWidth)+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+s+"px; }"}var l=o[0],s=o[1],d=l.grid,u=s.rowContainer,c=s.colContainer,g=null,p=null,f=d.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),r.on.mousewheel(t,function(e){var t=new n(d,u,c,n.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var i=-1*e.deltaY*e.deltaFactor;g=s.viewport[0].scrollTop,t.verticalScrollLength=u.getVerticalScrollLength();var o=(g+i)/t.verticalScrollLength;o>=1&&g<t.verticalScrollLength&&(s.viewport[0].scrollTop=t.verticalScrollLength),0>o?o=0:o>1&&(o=1),t.y={percentage:o,pixels:i}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;p=r.normalizeScrollLeft(s.viewport,d),t.horizontalScrollLength=c.getCanvasWidth()-c.getViewportWidth();var l=(p+a)/t.horizontalScrollLength;0>l?l=0:l>1&&(l=1),t.x={percentage:l,pixels:a}}0!==e.deltaY&&(t.atTop(g)||t.atBottom(g))||0!==e.deltaX&&(t.atLeft(p)||t.atRight(p))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),l.grid.registerStyleComputation({
priority:6,func:a})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,i,r){function n(){e.row.getRowTemplateFn.then(function(i){var r=e.$new();i(r,function(e,i){l&&(l.remove(),s.$destroy()),t.empty().append(e),l=e,s=r})})["catch"](angular.noop)}var o=r[0],a=r[1];o.grid,e.grid=o.grid,e.colContainer=a.colContainer;var l,s;n(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&n()})},post:function(e,t,i,r){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,i,r,n){var o=t(i.text(),!0);o&&e.$watch(o,function(e){i.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,i,r){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,r,n,o){function a(n){var o=r[0].scrollTop,a=e.normalizeScrollLeft(r,m),l=p.scrollVertical(o),s=f.scrollHorizontal(a),d=new t(m,p,f,t.Sources.ViewPortScroll);d.newScrollLeft=a,d.newScrollTop=o,s>-1&&(d.x={percentage:s}),l>-1&&(d.y={percentage:l}),m.scrollContainers(i.$parent.containerId,d)}function l(e){g.prevScrollArgs=e;var t=e.getNewScrollTop(p,g.viewport);r[0].scrollTop=t}function s(t){g.prevScrollArgs=t;var i=t.getNewScrollLeft(f,g.viewport);r[0].scrollLeft=e.denormalizeScrollLeft(g.viewport,i,m)}function d(t){var i=t.getNewScrollLeft(f,g.viewport);g.headerViewport&&(g.headerViewport.scrollLeft=e.denormalizeScrollLeft(g.viewport,i,m))}function u(t){var i=t.getNewScrollLeft(f,g.viewport);g.footerViewport&&(g.footerViewport.scrollLeft=e.denormalizeScrollLeft(g.viewport,i,m))}var c=o[0],g=o[1];i.containerCtrl=g;var p=g.rowContainer,f=g.colContainer,m=c.grid;i.grid=c.grid,i.rowContainer=g.rowContainer,i.colContainer=g.colContainer,g.viewport=r,m&&m.options&&m.options.customScroller?m.options.customScroller(r,a):r.on("scroll",a),i.$parent.bindScrollVertical&&m.addVerticalScrollSync(i.$parent.containerId,l),i.$parent.bindScrollHorizontal&&(m.addHorizontalScrollSync(i.$parent.containerId,s),m.addHorizontalScrollSync(i.$parent.containerId+"header",d),m.addHorizontalScrollSync(i.$parent.containerId+"footer",u)),i.$on("$destroy",function(){r.off()})},controller:["$scope",function(e){this.rowStyle=function(t){var i=e.rowContainer,r=e.colContainer,n={};if(0!==i.currentTopRow){var o="translateY("+i.currentTopRow*i.grid.options.rowHeight+"px)";n.transform=o,n["-webkit-transform"]=o,n["-ms-transform"]=o}return 0!==r.currentFirstColumn&&(r.grid.isRTL()?n["margin-right"]=r.columnOffset+"px":n["margin-left"]=r.columnOffset+"px"),n}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,i){e.$watch(i.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function e(e,t,i){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(r,n,o,a){function l(){n[0].offsetWidth<=0&&f>m?(setTimeout(l,p),m++):r.$applyAsync(d)}function s(){var t,i;angular.element(e).on("resize",c),n.on("$destroy",function(){angular.element(e).off("resize",c),t(),i()}),t=r.$watch(function(){return g.hasLeftContainer()},function(e,t){e!==t&&g.refreshCanvas(!0)}),i=r.$watch(function(){return g.hasRightContainer()},function(e,t){e!==t&&g.refreshCanvas(!0)})}function d(){g.gridWidth=r.gridWidth=t.elementWidth(n),g.canvasWidth=a.grid.gridWidth,g.gridHeight=r.gridHeight=t.elementHeight(n),g.gridHeight<=g.options.rowHeight&&g.options.enableMinHeightCheck&&u(),g.refreshCanvas(!0)}function u(){var e=g.options.minRowsToShow*g.options.rowHeight,o=g.options.showHeader?g.options.headerRowHeight:0,a=g.calcFooterHeight(),l=0;g.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(l=t.getScrollbarWidth());var s=0;if(angular.forEach(g.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>s&&(s=1):e.hasOwnProperty("filters")&&s<e.filters.length&&(s=e.filters.length)}),g.options.enableFiltering&&!s){var d=g.options.columnDefs.length&&g.options.columnDefs.every(function(e){return e.enableFiltering===!1});d||(s=1)}var u=s*o,c=o+e+a+l+u;n.css("height",c+"px"),g.gridHeight=r.gridHeight=t.elementHeight(n)}function c(){g.gridWidth=r.gridWidth=t.elementWidth(n),g.gridHeight=r.gridHeight=t.elementHeight(n),g.refreshCanvas(!0)}var g=a.grid;a.scrollbars=[],g.element=n;var p=100,f=20,m=0;s(),d(),g.renderingComplete(),l()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","gridClassFactory","$parse","$compile",function(e,t,i,r,n,o,a,l,s){function d(e){return e?e.length:0}function u(t,i){t&&t!==i&&(g.grid.options.columnDefs=e.uiGrid.columnDefs,g.grid.callDataChangeCallbacks(o.dataChange.COLUMN,{orderByColumnDefs:!0,preCompileCellTemplates:!0}))}function c(t){var r=[];if(t=angular.isString(e.uiGrid.data)?g.grid.appScope[e.uiGrid.data]:e.uiGrid.data,f=t,t){var a=g.grid.columns.length>(g.grid.rowHeaderColumns?g.grid.rowHeaderColumns.length:0);!a&&!i.uiGridColumns&&0===g.grid.options.columnDefs.length&&t.length>0&&g.grid.buildColumnDefsFromData(t),!a&&(g.grid.options.columnDefs.length>0||t.length>0)&&r.push(g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates()})["catch"](angular.noop)),n.all(r).then(function(){g.grid.modifyRows(f).then(function(){g.grid.redrawInPlace(!0),e.$evalAsync(function(){g.grid.refreshCanvas(!0),g.grid.callDataChangeCallbacks(o.dataChange.ROW)})})["catch"](angular.noop)})["catch"](angular.noop)}}var g=this,p=[];g.grid=a.createGrid(e.uiGrid),g.grid.appScope=g.grid.appScope||e.$parent,t.addClass("grid"+g.grid.id),g.grid.rtl="rtl"===r.getStyles(t[0]).direction,e.grid=g.grid,i.uiGridColumns&&p.push(i.$observe("uiGridColumns",function(e){g.grid.options.columnDefs=angular.isString(e)?angular.fromJson(e):e,g.grid.buildColumns().then(function(){g.grid.preCompileCellTemplates(),g.grid.refreshCanvas(!0)})["catch"](angular.noop)})),g.grid.options.fastWatch?(g.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(p.push(e.$parent.$watch(e.uiGrid.data,c)),p.push(e.$parent.$watch(function(){return g.grid.appScope[e.uiGrid.data]?g.grid.appScope[e.uiGrid.data].length:void 0},c))):(p.push(e.$parent.$watch(function(){return e.uiGrid.data},c)),p.push(e.$parent.$watch(function(){return d(e.uiGrid.data)},function(){c(e.uiGrid.data)}))),p.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},u)),p.push(e.$parent.$watch(function(){return d(e.uiGrid.columnDefs)},function(){u(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?p.push(e.$parent.$watchCollection(e.uiGrid.data,c)):p.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},c)),p.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},u)));var f,m=e.$watch(function(){return g.grid.styleComputations},function(){g.grid.refreshCanvas(!0)});e.$on("$destroy",function(){p.forEach(function(e){e()}),m()}),g.fireEvent=function(t,i){i=i||{},angular.isUndefined(i.grid)&&(i.grid=g.grid),e.$broadcast(t,i)},g.innerCompile=function(t){s(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,i,r){function n(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var i=e.getViewportAdjustment();return t+=i.width}function o(){if("left"===e.side||"right"===e.side){for(var t=l.renderContainers[e.side].visibleColumnCache,i=0,r=0;r<t.length;r++){var n=t[r];i+=n.drawnWidth||n.width||0}return i}}function a(){var i="";return("left"===e.side||"right"===e.side)&&(s=o(),t.attr("style",null),i+=".grid"+l.id+" .ui-grid-pinned-container-"+e.side+", .grid"+l.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+s+"px; } "),i}var l=r.grid,s=0;t.addClass("ui-grid-pinned-container-"+e.side),("left"===e.side||"right"===e.side)&&(l.renderContainers[e.side].getViewportWidth=n),l.renderContainers.body.registerViewportAdjuster(function(t){return s=o(),t.width-=s,t.side=e.side,t}),l.registerStyleComputation({priority:15,func:a})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,i,r,n,o,a,l,s,d,u,c,g,p){function f(){}var m=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=n.scrollDirection.NONE}function i(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=n.scrollDirection.NONE}var a=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new c("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=n.scrollDirection.NONE,a.disableScrolling=!1;var l=r.debounce(t,a.options.scrollDebounce),u=r.debounce(t,0),g=r.debounce(i,a.options.scrollDebounce),p=r.debounce(i,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?l(e):u(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?g(e):p(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===n.scrollbars.ALWAYS&&(a.scrollbarHeight=r.getScrollbarWidth()),a.options.enableVerticalScrollbar===n.scrollbars.ALWAYS&&(a.scrollbarWidth=r.getScrollbarWidth()),a.api=new s(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",d.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[n.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[n.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[n.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};m.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},m.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},m.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},m.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},m.prototype.isRTL=function(){return this.rtl},m.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},m.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=r.getColumnsFromData(e,this.options.excludeProperties)},m.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},m.prototype.registerDataChangeCallback=function(e,t,i){var o=r.nextUid();t||(t=[n.dataChange.ALL]),Array.isArray(t)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:i};var a=this,l=function(){delete a.dataChangeCallbacks[o]};return l},m.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(i,r){(-1!==i.types.indexOf(n.dataChange.ALL)||-1!==i.types.indexOf(e)||e===n.dataChange.ALL)&&(i._this?i.callback.apply(i._this,this,t):i.callback(this,t))},this)},m.prototype.notifyDataChange=function(e){var t=n.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},m.prototype.columnRefreshCallback=function(e,t){e.buildColumns(t),e.queueGridRefresh()},m.prototype.processRowsCallback=function(e){e.queueGridRefresh()},m.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},m.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},m.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},m.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,i){if(!t.type){var n=new a(t,i,e),o=e.rows.length>0?e.rows[0]:null;o?t.type=r.guessType(e.getCellValue(o,n)):t.type="string"}})},m.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},m.prototype.addRowHeaderColumn=function(e,t,i){var n=this;void 0===t&&(t=0);var o=new a(e,r.nextUid(),n);o.isRowHeader=!0,n.isRTL()?(n.createRightContainer(),o.renderContainer="right"):(n.createLeftContainer(),o.renderContainer="left"),n.columnBuilders[0](e,o,n.options).then(function(){o.enableFiltering=!1,o.enableSorting=!1,o.enableHiding=!1,o.headerPriority=t,n.rowHeaderColumns.push(o),n.rowHeaderColumns=n.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),i||n.buildColumns().then(function(){n.preCompileCellTemplates(),n.queueGridRefresh()})["catch"](angular.noop)})["catch"](angular.noop)},m.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(i){-1===e.rowHeaderColumns.indexOf(i)&&t.push(i)}),t},m.prototype.buildColumns=function(t){var i={orderByColumnDefs:!1};angular.extend(i,t);var n,o=this,l=[],s=o.rowHeaderColumns.length;for(n=0;n<o.columns.length;n++)o.getColDef(o.columns[n].name)||(o.columns.splice(n,1),n--);for(var d=o.rowHeaderColumns.length-1;d>=0;d--)o.columns.unshift(o.rowHeaderColumns[d]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var i=o.getColumn(e.name);i?i.updateColumnDef(e,!1):(i=new a(e,r.nextUid(),o),o.columns.splice(t+s,0,i)),o.columnBuilders.forEach(function(t){l.push(t.call(o,e,i,o.options))})}),i.orderByColumnDefs){var u=o.columns.slice(0),c=Math.min(o.options.columnDefs.length,o.columns.length);for(n=0;c>n;n++)o.columns[n+s].name!==o.options.columnDefs[n].name?u[n+s]=o.getColumn(o.options.columnDefs[n].name):u[n+s]=o.columns[n+s];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(u))}return e.all(l).then(function(){o.rows.length>0&&o.assignTypes(),i.preCompileCellTemplates&&o.preCompileCellTemplates()})["catch"](angular.noop)},m.prototype.preCompileCellTemplate=function(e){var i=this,r=e.cellTemplate.replace(n.MODEL_COL_FIELD,i.getQualifiedColField(e));r=r.replace(n.COL_FIELD,"grid.getCellValue(row, col)");var o=t(r);e.compiledElementFn=o,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},m.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)})["catch"](angular.noop)})},m.prototype.getQualifiedColField=function(e){var t="row.entity";return e.field===n.ENTITY_BINDING?t:r.preEval(t+"."+e.field)},m.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new c("left",this,{disableColumnOffset:!0}))},m.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new c("right",this,{disableColumnOffset:!0}))},m.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},m.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},m.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var i=e.field,r=2;t.getColumn(i);)i=e.field+r.toString(),r++;e.name=i}},m.prototype.newInN=function(e,t,i,r){for(var n=this,o=[],a=0;a<t.length;a++){for(var l=r?t[a][r]:t[a],s=!1,d=0;d<e.length;d++){var u=i?e[d][i]:e[d];if(n.options.rowEquality(l,u)){s=!0;break}}s||o.push(l)}return o},m.prototype.getRow=function(e,t){var i=this;t="undefined"==typeof t?i.rows:t;var r=t.filter(function(t){return i.options.rowEquality(t.entity,e)});return r.length>0?r[0]:null},m.prototype.modifyRows=function(t){var i=this,r=i.rows.slice(0),n=i.rowHashMap||i.createRowHashMap(),o=!0;i.rowHashMap=i.createRowHashMap(),i.rows.length=0,t.forEach(function(e,t){var a,s;s=i.options.enableRowHashing?n.get(e):i.getRow(e,r),s&&(a=s,a.entity=e),a||(a=i.processRowBuilders(new l(e,t,i))),i.rows.push(a),i.rowHashMap.put(e,a),a.isSelected||(o=!1)}),i.selection&&(i.selection.selectAll=o),i.assignTypes();var a=e.when(i.processRowsProcessors(i.rows)).then(function(e){return i.setVisibleRows(e)})["catch"](angular.noop),s=e.when(i.processColumnsProcessors(i.columns)).then(function(e){return i.setVisibleColumns(e)})["catch"](angular.noop);return e.all([a,s])},m.prototype.addRows=function(e){for(var t=this,i=t.rows.length,r=0;r<e.length;r++){var n=t.processRowBuilders(new l(e[r],r+i,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(n.entity);o&&(o.row=n)}t.rows.push(n)}},m.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(i){i.call(t,e,t.options)}),e},m.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},m.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(i,r){i.processor===e&&(t=r)}),-1!==t&&this.rowsProcessors.splice(t,1)},m.prototype.processRowsProcessors=function(t){function i(t,n){var a=r.rowsProcessors[t].processor;return e.when(a.call(r,n,r.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=r.rowsProcessors.length-1?i(t,e):void o.resolve(e)})["catch"](angular.noop)}var r=this,n=t.slice(0);if(0===r.rowsProcessors.length)return e.when(n);var o=e.defer();return i(0,n),o.promise},m.prototype.setVisibleRows=function(e){var t=this;for(var i in t.renderContainers){var r=t.renderContainers[i];r.canvasHeightShouldUpdate=!0,"undefined"==typeof r.visibleRowCache?r.visibleRowCache=[]:r.visibleRowCache.length=0}for(var n=0;n<e.length;n++){var o=e[n],a="undefined"!=typeof o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsVisibleChanged(this.api),t.api.core.raise.rowsRendered(this.api)},m.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},m.prototype.processColumnsProcessors=function(t){function i(t,a){var l=r.columnsProcessors[t].processor;return e.when(l.call(r,a,r.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=r.columnsProcessors.length-1?i(t,n):void o.resolve(n)})["catch"](angular.noop)}var r=this,n=t.slice(0);if(0===r.columnsProcessors.length)return e.when(n);var o=e.defer();return i(0,n),o.promise},m.prototype.setVisibleColumns=function(e){var t=this;for(var i in t.renderContainers){var r=t.renderContainers[i];r.visibleColumnCache.length=0}for(var n=0;n<e.length;n++){var o=e[n];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},m.prototype.handleWindowResize=function(e){var t=this;return t.gridWidth=r.elementWidth(t.element),t.gridHeight=r.elementHeight(t.element),t.queueRefresh()},m.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&g.cancel(e.refreshCanceller),e.refreshCanceller=g(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null})["catch"](angular.noop),e.refreshCanceller},m.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&g.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=g(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null})["catch"](angular.noop),e.gridRefreshCanceller},m.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var i=e.renderContainers[t];i.canvasHeightShouldUpdate=!0}},m.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var i=t.func.call(e);angular.isString(i)&&(e.customStyles+="\n"+i)})},m.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),i=0,r=0;return e.columns.forEach(function(n,o){if(t>r)r+=n.drawnWidth,i++;else{for(var a=0,l=o;l>=o-i;l--)a+=e.columns[l].drawnWidth;t>a&&i++}}),i},m.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},m.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,i=e.getViewportAdjustment();return t+=i.height},m.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,i=e.getViewportAdjustment();return t+=i.width},m.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},m.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},m.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},m.prototype.scrollContainers=function(e,t){if(t.y){var i=["body","left","right"];this.flagScrollingVertically(t),"body"===e?i=["left","right"]:"left"===e?i=["body","right"]:"right"===e&&(i=["body","left"]);for(var r=0;r<i.length;r++){var n=i[r];this.verticalScrollSyncCallBackFns[n]&&this.verticalScrollSyncCallBackFns[n](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var l=o[a];this.horizontalScrollSyncCallBackFns[l]&&this.horizontalScrollSyncCallBackFns[l](t)}}},m.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},m.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},m.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},m.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},m.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},m.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},m.prototype.searchRows=function(e){return u.search(this,e,this.columns)},m.prototype.sortByColumn=function(e){return d.sort(this,e,this.columns)},m.prototype.getCellValue=function(e,t){return"undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=i(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},m.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var r=t.cellFilter?" | "+t.cellFilter:"";if("undefined"!=typeof e.entity["$$"+t.uid])t.cellDisplayGetterCache=i(e.entity["$$"+t.uid].rendered+r);else if(this.options.flatEntityAccess&&"undefined"!=typeof t.field){var n=t.field.replace(/(')|(\\)/g,"\\$&");t.cellDisplayGetterCache=i("entity['"+n+"']"+r)}else t.cellDisplayGetterCache=i(e.getEntityQualifiedColField(t)+r)}return t.cellDisplayGetterCache(e)},m.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},m.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},m.prototype.getColumnSorting=function(){var e,t=this,i=[];return e=t.columns.slice(0),e.sort(d.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===n.ASC||e.sort.direction===n.DESC)&&i.push(e)}),i},m.prototype.sortColumn=function(t,i,r){var n=this,o=null;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");if("boolean"==typeof i?r=i:o=i,r?void 0===t.sort.priority&&(t.sort.priority=n.getNextColumnSortPriority()):(n.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=n.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:h(t,n)}return n.api.core.raise.sortChanged(n,n.getColumnSorting()),e.when(t)};var h=function(e,t){t.columns.forEach(function(t){t.sort&&void 0!==t.sort.priority&&t.sort.priority>e.sort.priority&&(t.sort.priority-=1)}),e.sort={}};return m.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},m.prototype.createRowHashMap=function(){var e=this,t=new f;return t.grid=e,t},m.prototype.refresh=function(t){var i=this,r=i.processRowsProcessors(i.rows).then(function(e){i.setVisibleRows(e)})["catch"](angular.noop),n=i.processColumnsProcessors(i.columns).then(function(e){i.setVisibleColumns(e)})["catch"](angular.noop);return e.all([r,n]).then(function(){i.refreshCanvas(!0),i.redrawInPlace(t)})["catch"](angular.noop)},m.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})["catch"](angular.noop)},m.prototype.refreshCanvas=function(t){var i=this,n=e.defer(),o=[];for(var a in i.renderContainers)if(i.renderContainers.hasOwnProperty(a)){var l=i.renderContainers[a];if(null===l.canvasWidth||isNaN(l.canvasWidth))continue;(l.header||l.headerCanvas)&&(l.explicitHeaderHeight=l.explicitHeaderHeight||null,l.explicitHeaderCanvasHeight=l.explicitHeaderCanvasHeight||null,o.push(l))}return t&&i.buildStyles(),g(o.length>0?function(){var e,a,l=!1,s=0,d=0,u=function(e,t){return e!==t&&(l=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var c=a.headerHeight=u(a.headerHeight,r.outerElementHeight(a.header)),g=r.getBorderSize(a.header,"top"),p=r.getBorderSize(a.header,"bottom"),f=parseInt(c-g-p,10);f=0>f?0:f,a.innerHeaderHeight=f,!a.explicitHeaderHeight&&f>s&&(s=f)}if(a.headerCanvas){var m=a.headerCanvasHeight=u(a.headerCanvasHeight,parseInt(r.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&m>d&&(d=m)}}for(e=0;e<o.length;e++)a=o[e],s>0&&"undefined"!=typeof a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<s)&&(a.explicitHeaderHeight=u(a.explicitHeaderHeight,s)),d>0&&"undefined"!=typeof a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<d)&&(a.explicitHeaderCanvasHeight=u(a.explicitHeaderCanvasHeight,d));t&&l&&i.buildStyles(),n.resolve()}:function(){n.resolve()}),n.promise},m.prototype.redrawInPlace=function(e){var t=this;for(var i in t.renderContainers){var r=t.renderContainers[i];e?(r.adjustRows(r.prevScrollTop,null),r.adjustColumns(r.prevScrollLeft,null)):(r.adjustRows(null,r.prevScrolltopPercentage),r.adjustColumns(null,r.prevScrollleftPercentage))}},m.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},m.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},m.prototype.scrollToIfNecessary=function(t,i){var r=this,n=new p(r,"uiGrid.scrollToIfNecessary"),o=r.renderContainers.body.visibleRowCache,a=r.renderContainers.body.visibleColumnCache,l=r.renderContainers.body.prevScrollTop+r.headerHeight;l=0>l?0:l;var s=r.renderContainers.body.prevScrollLeft,d=r.renderContainers.body.prevScrollTop+r.gridHeight-r.renderContainers.body.headerHeight-r.footerHeight-r.scrollbarWidth,u=r.renderContainers.body.prevScrollLeft+Math.ceil(r.renderContainers.body.getViewportWidth());if(null!==t){var c=o.indexOf(t),g=r.renderContainers.body.getCanvasHeight()-r.renderContainers.body.getViewportHeight(),f=c*r.options.rowHeight+r.headerHeight;f=0>f?0:f;var m,h;l>f?(m=r.renderContainers.body.prevScrollTop-(l-f),h=m/g,1>=h&&(n.y={percentage:h})):f>d&&(m=f-d+r.renderContainers.body.prevScrollTop,h=m/g,1>=h&&(n.y={percentage:h}))}if(null!==i){
for(var v=a.indexOf(i),C=r.renderContainers.body.getCanvasWidth()-r.renderContainers.body.getViewportWidth(),w=0,y=0;v>y;y++){var b=a[y];w+=b.drawnWidth}w=0>w?0:w;var S=w+i.drawnWidth;S=0>S?0:S;var E,x;s>w?(E=r.renderContainers.body.prevScrollLeft-(s-w),x=E/C,x=x>1?1:x,n.x={percentage:x}):S>u&&(E=S-u+r.renderContainers.body.prevScrollLeft,x=E/C,x=x>1?1:x,n.x={percentage:x})}var A=e.defer();if(n.y||n.x){n.withDelay=!1,r.scrollContainers("",n);var R=r.api.core.on.scrollEnd(null,function(){A.resolve(n),R()})}else A.resolve();return A.promise},m.prototype.scrollTo=function(e,t){var i=null,r=null;return null!==e&&"undefined"!=typeof e&&(i=this.getRow(e)),null!==t&&"undefined"!=typeof t&&(r=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(i,r)},m.prototype.clearAllFilters=function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===i&&(i=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),i&&(e.flags=void 0)})}),e?this.refreshRows():void 0},f.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},m}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,i,r,n,o){function a(e,i,r,n){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),i.apply(n?n:r.api,t)})}var l=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",n.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",n.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return l.prototype.suppressEvents=function(e,t){var i=this,r=angular.isArray(e)?e:[e],n=i.listeners.filter(function(e){return r.some(function(t){return e.handler===t})});n.forEach(function(e){e.dereg()}),t(),n.forEach(function(e){e.dereg=a(e.eventId,e.handler,i.grid,e._this)})},l.prototype.registerEvent=function(e,r){var n=this;n[e]||(n[e]={});var o=n[e];o.on||(o.on={},o.raise={});var l=n.grid.id+e+r;o.raise[r]=function(){t.$emit.apply(t,[l].concat(Array.prototype.slice.call(arguments)))},o.on[r]=function(t,o,s){if(null!==t&&"undefined"==typeof t.$on)return void i.logError("asked to listen on "+e+".on."+r+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var d=a(l,o,n.grid,s),u={handler:o,dereg:d,eventId:l,scope:t,_this:s};n.listeners.push(u);var c=function(){u.dereg();var e=n.listeners.indexOf(u);n.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){c()}),c}},l.prototype.registerEventsFromObject=function(e){var t=this,i=[];angular.forEach(e,function(e,t){var r={name:t,events:[]};angular.forEach(e,function(e,t){r.events.push(t)}),i.push(r)}),i.forEach(function(e){e.events.forEach(function(i){t.registerEvent(e.name,i)})})},l.prototype.registerMethod=function(e,t,r,n){this[e]||(this[e]={});var o=this[e];o[t]=i.createBoundedWrapper(n||this.grid,r)},l.prototype.registerMethodsFromObject=function(e,t){var i=this,r=[];angular.forEach(e,function(e,t){var i={name:t,methods:[]};angular.forEach(e,function(e,t){i.methods.push({name:t,fn:e})}),r.push(i)}),r.forEach(function(e){e.methods.forEach(function(r){i.registerMethod(e.name,r.name,r.fn,t)})})},l}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,i){function r(e,i,r){var n=this;n.grid=r,n.uid=i,n.updateColumnDef(e,!0),n.aggregationValue=void 0,n.updateAggregationValue=function(){if(!n.aggregationType)return void(n.aggregationValue=void 0);var e=0,i=n.grid.getVisibleRows(),r=function(){var e=[];return i.forEach(function(t){var i=n.grid.getCellValue(t,n),r=Number(i);isNaN(r)||e.push(r)}),e};angular.isFunction(n.aggregationType)?n.aggregationValue=n.aggregationType(i,n):n.aggregationType===t.aggregationTypes.count?n.aggregationValue=n.grid.getVisibleRowCount():n.aggregationType===t.aggregationTypes.sum?(r().forEach(function(t){e+=t}),n.aggregationValue=e):n.aggregationType===t.aggregationTypes.avg?(r().forEach(function(t){e+=t}),e/=r().length,n.aggregationValue=e):n.aggregationType===t.aggregationTypes.min?n.aggregationValue=Math.min.apply(null,r()):n.aggregationType===t.aggregationTypes.max?n.aggregationValue=Math.max.apply(null,r()):n.aggregationValue=" "},this.getAggregationValue=function(){return n.aggregationValue}}return r.prototype.hideColumn=function(){this.colDef.visible=!1},r.prototype.setPropertyOrDefault=function(e,t,i){var r=this;"undefined"!=typeof e[t]&&e[t]?r[t]=e[t]:"undefined"!=typeof r[t]?r[t]=r[t]:r[t]=i?i:{}},r.prototype.updateColumnDef=function(i,r){var n=this;if(n.colDef=i,void 0===i.name)throw new Error("colDef.name is required for column at index "+n.grid.options.columnDefs.indexOf(i));if(n.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,!angular.isNumber(n.width)||!n.hasCustomWidth||i.allowCustomWidthOverride){var o=i.width,a="Cannot parse column width '"+o+"' for column named '"+i.name+"'";if(n.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var l=o.replace(/%/g,""),s=parseInt(l,10);if(isNaN(s))throw new Error(a);n.width=o}else if(o.match(/^(\d+)$/))n.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);n.width=o}else n.width=o;else n.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=i[e],r="Cannot parse column "+e+" '"+t+"' for column named '"+i.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(r);n[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else n[e]=t;else n[e]="minWidth"===e?30:9e3}),n.field=void 0===i.field?i.name:i.field,"string"!=typeof n.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+n.field),n.name=i.name,n.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,n.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null,n.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null,"undefined"==typeof i.cellTooltip||i.cellTooltip===!1?n.cellTooltip=!1:i.cellTooltip===!0?n.cellTooltip=function(e,t){return n.grid.getCellValue(e,t)}:"function"==typeof i.cellTooltip?n.cellTooltip=i.cellTooltip:n.cellTooltip=function(e,t){return t.colDef.cellTooltip},"undefined"==typeof i.headerTooltip||i.headerTooltip===!1?n.headerTooltip=!1:i.headerTooltip===!0?n.headerTooltip=function(e){return e.displayName}:"function"==typeof i.headerTooltip?n.headerTooltip=i.headerTooltip:n.headerTooltip=function(e){return e.colDef.headerTooltip},n.footerCellClass=i.footerCellClass,n.cellClass=i.cellClass,n.headerCellClass=i.headerCellClass,n.cellFilter=i.cellFilter?i.cellFilter:"",n.sortCellFiltered=!!i.sortCellFiltered,n.filterCellFiltered=!!i.filterCellFiltered,n.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"",n.footerCellFilter=i.footerCellFilter?i.footerCellFilter:"",n.visible=e.isNullOrUndefined(i.visible)||i.visible,n.headerClass=i.headerClass,n.enableSorting="undefined"!=typeof i.enableSorting?i.enableSorting:n.grid.options.enableSorting,n.sortingAlgorithm=i.sortingAlgorithm,n.sortDirectionCycle="undefined"!=typeof i.sortDirectionCycle?i.sortDirectionCycle:[null,t.ASC,t.DESC],"undefined"==typeof n.suppressRemoveSort&&(n.suppressRemoveSort="undefined"!=typeof i.suppressRemoveSort&&i.suppressRemoveSort),n.enableFiltering="undefined"==typeof i.enableFiltering||i.enableFiltering,n.setPropertyOrDefault(i,"menuItems",[]),r&&n.setPropertyOrDefault(i,"sort"),n.setPropertyOrDefault(i,"defaultSort");var d=[];i.filter?d.push(i.filter):i.filters?d=i.filters:d.push({}),r?(n.setPropertyOrDefault(i,"filter"),n.setPropertyOrDefault(i,"extraStyle"),n.setPropertyOrDefault(i,"filters",d)):n.filters.length===d.length&&n.filters.forEach(function(e,t){"undefined"!=typeof d[t].placeholder&&(e.placeholder=d[t].placeholder),"undefined"!=typeof d[t].ariaLabel&&(e.ariaLabel=d[t].ariaLabel),"undefined"!=typeof d[t].flags&&(e.flags=d[t].flags),"undefined"!=typeof d[t].type&&(e.type=d[t].type),"undefined"!=typeof d[t].selectOptions&&(e.selectOptions=d[t].selectOptions)})},r.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},r.prototype.getColClass=function(e){var i=t.COL_CLASS_PREFIX+this.uid;return e?"."+i:i},r.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},r.prototype.isPinnedRight=function(){return"right"===this.renderContainer},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return i.getSafeText("aggregation.count");case t.aggregationTypes.sum:return i.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return i.getSafeText("aggregation.avg");case t.aggregationTypes.min:return i.getSafeText("aggregation.min");case t.aggregationTypes.max:return i.getSafeText("aggregation.max");default:return""}},r.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(i){return i.onRegisterApi=i.onRegisterApi||angular.noop(),i.data=i.data||[],i.columnDefs=i.columnDefs||[],i.excludeProperties=i.excludeProperties||["$$hashKey"],i.enableRowHashing=i.enableRowHashing!==!1,i.rowIdentity=i.rowIdentity||function(t){return e.hashKey(t)},i.getRowIdentity=i.getRowIdentity||function(e){return e.$$hashKey},i.flatEntityAccess=i.flatEntityAccess===!0,i.showHeader="undefined"==typeof i.showHeader||i.showHeader,i.showHeader?i.headerRowHeight="undefined"!=typeof i.headerRowHeight?i.headerRowHeight:30:i.headerRowHeight=0,"string"==typeof i.rowHeight?i.rowHeight=parseInt(i.rowHeight)||30:i.rowHeight=i.rowHeight||30,i.minRowsToShow="undefined"!=typeof i.minRowsToShow?i.minRowsToShow:10,i.showGridFooter=i.showGridFooter===!0,i.showColumnFooter=i.showColumnFooter===!0,i.columnFooterHeight="undefined"!=typeof i.columnFooterHeight?i.columnFooterHeight:30,i.gridFooterHeight="undefined"!=typeof i.gridFooterHeight?i.gridFooterHeight:30,i.columnWidth="undefined"!=typeof i.columnWidth?i.columnWidth:50,i.maxVisibleColumnCount="undefined"!=typeof i.maxVisibleColumnCount?i.maxVisibleColumnCount:200,i.virtualizationThreshold="undefined"!=typeof i.virtualizationThreshold?i.virtualizationThreshold:20,i.columnVirtualizationThreshold="undefined"!=typeof i.columnVirtualizationThreshold?i.columnVirtualizationThreshold:10,i.excessRows="undefined"!=typeof i.excessRows?i.excessRows:4,i.scrollThreshold="undefined"!=typeof i.scrollThreshold?i.scrollThreshold:4,i.excessColumns="undefined"!=typeof i.excessColumns?i.excessColumns:4,i.horizontalScrollThreshold="undefined"!=typeof i.horizontalScrollThreshold?i.horizontalScrollThreshold:2,i.aggregationCalcThrottle="undefined"!=typeof i.aggregationCalcThrottle?i.aggregationCalcThrottle:500,i.wheelScrollThrottle="undefined"!=typeof i.wheelScrollThrottle?i.wheelScrollThrottle:70,i.scrollDebounce="undefined"!=typeof i.scrollDebounce?i.scrollDebounce:300,i.enableSorting=i.enableSorting!==!1,i.enableFiltering=i.enableFiltering===!0,i.enableColumnMenus=i.enableColumnMenus!==!1,i.enableVerticalScrollbar="undefined"!=typeof i.enableVerticalScrollbar?i.enableVerticalScrollbar:t.scrollbars.ALWAYS,i.enableHorizontalScrollbar="undefined"!=typeof i.enableHorizontalScrollbar?i.enableHorizontalScrollbar:t.scrollbars.ALWAYS,i.enableMinHeightCheck=i.enableMinHeightCheck!==!1,i.minimumColumnSize="undefined"!=typeof i.minimumColumnSize?i.minimumColumnSize:10,i.rowEquality=i.rowEquality||function(e,t){return e===t},i.headerTemplate=i.headerTemplate||null,i.footerTemplate=i.footerTemplate||"ui-grid/ui-grid-footer",i.gridFooterTemplate=i.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",i.rowTemplate=i.rowTemplate||"ui-grid/ui-grid-row",i.gridMenuTemplate=i.gridMenuTemplate||"ui-grid/uiGridMenu",i.appScopeProvider=i.appScopeProvider||null,i}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function i(e,t,i){var r=this;r.name=e,r.grid=t,r.visibleRowCache=[],r.visibleColumnCache=[],r.renderedRows=[],r.renderedColumns=[],r.prevScrollTop=0,r.prevScrolltopPercentage=0,r.prevRowScrollIndex=0,r.prevScrollLeft=0,r.prevScrollleftPercentage=0,r.prevColumnScrollIndex=0,r.columnStyles="",r.viewportAdjusters=[],r.hasHScrollbar=!1,r.hasVScrollbar=!1,r.canvasHeightShouldUpdate=!0,r.$$canvasHeight=0,i&&angular.isObject(i)&&angular.extend(r,i),t.registerStyleComputation({priority:5,func:function(){return r.updateColumnWidths(),r.columnStyles}})}return i.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},i.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},i.prototype.minRowsToRender=function(){for(var e=this,t=0,i=0,r=e.getViewportHeight(),n=e.visibleRowCache.length-1;r>i&&n>=0;n--)i+=e.visibleRowCache[n].height,t++;return t},i.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),i=0,r=0,n=0;n<e.visibleColumnCache.length;n++){var o=e.visibleColumnCache[n];if(t>r)r+=o.drawnWidth?o.drawnWidth:0,i++;else{for(var a=0,l=n;l>=n-i;l--)a+=e.visibleColumnCache[l].drawnWidth?e.visibleColumnCache[l].drawnWidth:0;t>a&&i++}}return i},i.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},i.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},i.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},i.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},i.prototype.getMargin=function(e){var t=this,i=0;return t.viewportAdjusters.forEach(function(t){var r=t.call(this,{height:0,width:0});r.side&&r.side===e&&(i+=-1*r.width)}),i},i.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,i=e.grid.gridHeight-t-e.grid.footerHeight,r=e.getViewportAdjustment();return i+=r.height},i.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,i=e.getViewportAdjustment();return t+=i.width},i.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},i.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},i.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight!==0?this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight:-1},i.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth!==0?this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth:-1},i.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},i.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},i.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},i.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},i.prototype.scrollVertical=function(e){var i=-1;if(e!==this.prevScrollTop){var r=e-this.prevScrollTop;r>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>r&&(this.grid.scrollDirection=t.scrollDirection.UP);var n=this.getVerticalScrollLength();return i=e/n,i>1&&(i=1),0>i&&(i=0),this.adjustScrollVertical(e,i),i}},i.prototype.scrollHorizontal=function(e){var i=-1;if(e!==this.prevScrollLeft){var r=e-this.prevScrollLeft;r>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>r&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var n=this.getHorizontalScrollLength();return i=0!==n?e/n:0,this.adjustScrollHorizontal(e,i),i}},i.prototype.adjustScrollVertical=function(e,t,i){(this.prevScrollTop!==e||i)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},i.prototype.adjustScrollHorizontal=function(e,t,i){(this.prevScrollLeft!==e||i)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},i.prototype.adjustRows=function(e,t,i){var r=this,n=r.minRowsToRender(),o=r.visibleRowCache,a=o.length-n;"undefined"!=typeof t&&null!==t||!e||(t=e/r.getVerticalScrollLength());var l=Math.ceil(Math.min(a,a*t));l>a&&(l=a);var s=[];if(o.length>r.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(!r.grid.suppressParentScrollDown&&r.prevScrollTop<e&&l<r.prevRowScrollIndex+r.grid.options.scrollThreshold&&a>l)return;if(!r.grid.suppressParentScrollUp&&r.prevScrollTop>e&&l>r.prevRowScrollIndex-r.grid.options.scrollThreshold&&a>l)return}var d={},u={};d=Math.max(0,l-r.grid.options.excessRows),u=Math.min(o.length,l+n+r.grid.options.excessRows),s=[d,u]}else{var c=r.visibleRowCache.length;s=[0,Math.max(c,n+r.grid.options.excessRows)]}r.updateViewableRowRange(s),r.prevRowScrollIndex=l},i.prototype.adjustColumns=function(e,t){var i=this,r=i.minColumnsToRender(),n=i.visibleColumnCache,o=n.length-r;"undefined"!=typeof t&&null!==t||!e||(t=e/i.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var l=[];if(n.length>i.grid.options.columnVirtualizationThreshold&&i.getCanvasWidth()>i.getViewportWidth()){var s=Math.max(0,a-i.grid.options.excessColumns),d=Math.min(n.length,a+r+i.grid.options.excessColumns);l=[s,d]}else{var u=i.visibleColumnCache.length;l=[0,Math.max(u,r+i.grid.options.excessColumns)]}i.updateViewableColumnRange(l),i.prevColumnScrollIndex=a},i.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},i.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},i.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},i.prototype.updateColumnWidths=function(){var t=this,i=[],r=0,n=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,l=[];angular.forEach(t.grid.renderContainers,function(e,t){l=l.concat(e.visibleColumnCache)}),l.forEach(function(t,o){var l=0;t.visible&&(angular.isNumber(t.width)?(l=parseInt(t.width,10),n+=l,t.drawnWidth=l):e.endsWith(t.width,"%")?(l=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*a),l>t.maxWidth&&(l=t.maxWidth),l<t.minWidth&&(l=t.minWidth),n+=l,t.drawnWidth=l):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(r+=t.width.length,i.push(t)))});var s=a-n;if(i.length>0){var d=s/r;i.forEach(function(e){var t=parseInt(e.width.length*d,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),n+=t,e.drawnWidth=t})}for(var u=function(e){e.drawnWidth<e.maxWidth&&c>0&&(e.drawnWidth++,n++,c--,g=!0)},c=a-n,g=!0;c>0&&g;)g=!1,i.forEach(u);var p=function(e){e.drawnWidth>e.minWidth&&f>0&&(e.drawnWidth--,n--,f--,g=!0)},f=n-a;for(g=!0;f>0&&g;)g=!1,i.forEach(p);var m=0;t.visibleColumnCache.forEach(function(e){e.visible&&(m+=e.drawnWidth)}),l.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=m,this.columnStyles=o},i.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},i.prototype.getViewportStyle=function(){var e=this,i={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(i["overflow-x"]="hidden",i["overflow-y"]="hidden",i):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):"left"===e.name?e.hasVScrollbar=!!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:e.hasVScrollbar=!e.grid.isRTL()&&e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,i["overflow-x"]=e.hasHScrollbar?"auto":"hidden",i["overflow-y"]=e.hasVScrollbar?"auto":"hidden",i)},i}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil","uiGridConstants",function(e,t){function i(t,i,r){this.grid=r,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=r.options.rowHeight}return Object.defineProperty(i.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),i.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},i.prototype.getEntityQualifiedColField=function(i){var r="entity";return i.field===t.ENTITY_BINDING?r:e.preEval(r+"."+i.field)},i.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},i.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},i.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},i.prototype.clearThisRowInvisible=function(e,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},i.prototype.evaluateRowVisibility=function(e){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,i){e&&(t=!1)}),("undefined"==typeof this.visible||this.visible!==t)&&(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},i}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var i=function r(e,t){if(!(this instanceof r))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=t};return i.prototype.getIntersectionValueRaw=function(){var t=e(this.row.getEntityQualifiedColField(this.col)),i=this.row;return t(i)},i}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,i,r,n){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=n,o.withDelay=!0,o.sourceRowContainer=i,o.sourceColContainer=r,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,i){var r=this;if(!r.newScrollLeft){var n,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(i,r.grid);if("undefined"!=typeof r.x.percentage&&void 0!==r.x.percentage)n=r.x.percentage;else{if("undefined"==typeof r.x.pixels||void 0===r.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");n=r.x.percentage=(a+r.x.pixels)/o}return Math.max(0,n*o)}return r.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var i=this;if(!i.newScrollTop){var r,n=e.getVerticalScrollLength(),o=t[0].scrollTop;if("undefined"!=typeof i.y.percentage&&void 0!==i.y.percentage)r=i.y.percentage;else{if("undefined"==typeof i.y.pixels||void 0===i.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");r=i.y.percentage=(o+i.y.pixels)/n}return Math.max(0,r*n)}return i.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,i,r,n,o,a,l){var s={createGrid:function(r){r="undefined"!=typeof r?r:{},r.id=e.newId();var n=new o(r);if(n.options.rowTemplate){var a=t.defer();n.getRowTemplateFn=a.promise,e.getTemplate(n.options.rowTemplate).then(function(e){var t=i(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+n.options.rowTemplate+"'")})["catch"](angular.noop)}return n.registerColumnBuilder(s.defaultColumnBuilder),n.registerRowBuilder(s.rowTemplateAssigner),n.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),n.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=!angular.isDefined(e.colDef.visible)||e.colDef.visible}),e},50),n.registerRowsProcessor(n.searchRows,100),n.options.externalSort&&angular.isFunction(n.options.externalSort)?n.registerRowsProcessor(n.options.externalSort,200):n.registerRowsProcessor(n.sortByColumn,200),n},defaultColumnBuilder:function(i,r,o){var a=[],l=function(t,o,l,s,d){i[t]?r[o]=i[t]:r[o]=l,a.push(e.getTemplate(r[o]).then(function(e){angular.isFunction(e)&&(e=e());var i="cellTooltip"===d?"col.cellTooltip(row,col)":"col.headerTooltip(col)";d&&r[d]===!1?e=e.replace(n.TOOLTIP,""):d&&r[d]&&(e=e.replace(n.TOOLTIP,'title="{{'+i+' CUSTOM_FILTERS }}"')),s?r[t]=e.replace(n.CUSTOM_FILTERS,function(){return r[s]?"|"+r[s]:""}):r[t]=e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+i[t]+"'")})["catch"](angular.noop))};return l("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),r.cellTemplatePromise=a[0],l("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),l("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),l("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),r.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(r){var n=this;if(r.rowTemplate){var o=t.defer();r.getRowTemplateFn=o.promise,e.getTemplate(r.rowTemplate).then(function(e){var t=i(e);o.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.rowTemplate+"'")})}else r.rowTemplate=n.options.rowTemplate,r.getRowTemplateFn=n.getRowTemplateFn;return r.getRowTemplateFn}};return s}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,i){var r=i.filter.CONTAINS,n={};return n.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},n.stripTerm=function(t){var i=n.getTerm(t);return"string"==typeof i?e(i.replace(/(^\*|\*$)/g,"")):i},n.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return r;var t=n.getTerm(e);if(/\*/.test(t)){var i="";e.flags&&e.flags.caseSensitive||(i+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",i)}return r},n.setupFilters=function(e){for(var r=[],o=e.length,a=0;o>a;a++){var l=e[a];if(l.noTerm||!t.isNullOrUndefined(l.term)){var s={},d="";l.flags&&l.flags.caseSensitive||(d+="i"),t.isNullOrUndefined(l.term)||(l.rawTerm?s.term=l.term:s.term=n.stripTerm(l)),s.noTerm=l.noTerm,l.condition?s.condition=l.condition:s.condition=n.guessCondition(l),s.flags=angular.extend({caseSensitive:!1,date:!1},l.flags),s.condition===i.filter.STARTS_WITH&&(s.startswithRE=new RegExp("^"+s.term,d)),s.condition===i.filter.ENDS_WITH&&(s.endswithRE=new RegExp(s.term+"$",d)),s.condition===i.filter.CONTAINS&&(s.containsRE=new RegExp(s.term,d)),s.condition===i.filter.EXACT&&(s.exactRE=new RegExp("^"+s.term+"$",d)),r.push(s)}}return r},n.runColumnFilter=function(e,t,r,n){var o,a=typeof n.condition,l=n.term;if(o=r.filterCellFiltered?e.getCellDisplayValue(t,r):e.getCellValue(t,r),n.condition instanceof RegExp)return n.condition.test(o);if("function"===a)return n.condition(l,o,t,r);if(n.startswithRE)return n.startswithRE.test(o);if(n.endswithRE)return n.endswithRE.test(o);if(n.containsRE)return n.containsRE.test(o);if(n.exactRE)return n.exactRE.test(o);if(n.condition===i.filter.NOT_EQUAL){var s=new RegExp("^"+l+"$");return!s.exec(o)}if("number"==typeof o&&"string"==typeof l){var d=parseFloat(l.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(d)||(l=d)}return n.flags.date===!0&&(o=new Date(o),l=new Date(l.replace(/\\/g,""))),n.condition===i.filter.GREATER_THAN?o>l:n.condition===i.filter.GREATER_THAN_OR_EQUAL?o>=l:n.condition===i.filter.LESS_THAN?l>o:n.condition!==i.filter.LESS_THAN_OR_EQUAL||l>=o},n.searchColumn=function(e,i,r,o){if(e.options.useExternalFiltering)return!0;for(var a=o.length,l=0;a>l;l++){var s=o[l];if(!t.isNullOrUndefined(s.term)&&""!==s.term||s.noTerm){var d=n.runColumnFilter(e,i,r,s);if(!d)return!1}}return!0},n.search=function(e,i,r){if(i){if(!e.options.enableFiltering)return i;for(var o=[],a=r.length,l=function(e){var i=!1;return e.forEach(function(e){(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(i=!0)}),i},s=0;a>s;s++){var d=r[s];"undefined"!=typeof d.filters&&l(d.filters)&&o.push({col:d,filters:n.setupFilters(d.filters)})}if(o.length>0){for(var u=function(e,t,i,r){t.visible&&!n.searchColumn(e,t,i,r)&&(t.visible=!1)},c=function(e,t){for(var r=i.length,n=0;r>n;n++)u(e,i[n],t.col,t.filters)},g=o.length,p=0;g>p;p++)c(e,o[p]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return i}},n}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var i="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",r=(new RegExp("^[-+]?"+i+"[\\d,.]+"+i+"%?$"),{colSortFnCache:{}});return r.guessSortFn=function(e){switch(e){case"number":return r.sortNumber;case"numberStr":return r.sortNumberStr;
case"boolean":return r.sortBool;case"string":return r.sortAlpha;case"date":return r.sortDate;case"object":return r.basicSort;default:throw new Error("No sorting function found for type:"+e)}},r.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},r.basicSort=function(e,t){var i=r.handleNulls(e,t);return null!==i?i:e===t?0:t>e?-1:1},r.sortNumber=function(e,t){var i=r.handleNulls(e,t);return null!==i?i:e-t},r.sortNumberStr=function(e,t){var i=r.handleNulls(e,t);if(null!==i)return i;var n,o,a=!1,l=!1;return n=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(n)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(l=!0),a&&l?0:a?1:l?-1:n-o},r.sortAlpha=function(e,t){var i=r.handleNulls(e,t);if(null!==i)return i;var n=e.toString().toLowerCase(),o=t.toString().toLowerCase();return n===o?0:n.localeCompare(o)},r.sortDate=function(e,t){var i=r.handleNulls(e,t);if(null!==i)return i;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var n=e.getTime(),o=t.getTime();return n===o?0:o>n?-1:1},r.sortBool=function(e,t){var i=r.handleNulls(e,t);return null!==i?i:e&&t?0:e||t?e?1:-1:0},r.getSortFn=function(e,t,i){var n;return r.colSortFnCache[t.colDef.name]?n=r.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(n=t.sortingAlgorithm,r.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(n=r.sortAlpha,r.colSortFnCache[t.colDef.name]=n):(n=r.guessSortFn(t.colDef.type),n?r.colSortFnCache[t.colDef.name]=n:n=r.sortAlpha),n},r.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:void 0!==e.sort.priority?-1:void 0!==t.sort.priority?1:0},r.sort=function(e,i,n){if(i){if(e.options.useExternalSorting)return i;var o=[],a=[];if(n.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC?e.defaultSort&&e.defaultSort.direction&&(e.defaultSort.direction===t.ASC||e.defaultSort.direction===t.DESC)&&a.push({col:e,sort:e.defaultSort}):o.push({col:e,sort:e.sort})}),o=o.sort(r.prioritySort),a=a.sort(r.prioritySort),o=o.concat(a),0===o.length)return i;var l,s,d=function(e,t){e.entity.$$uiGridIndex=t};i.forEach(d);var u=i.slice(0),c=function(i,n){for(var a,d=0,c=0;0===d&&c<o.length;){l=o[c].col,s=o[c].sort.direction,a=r.getSortFn(e,l,u);var g,p;l.sortCellFiltered?(g=e.getCellDisplayValue(i,l),p=e.getCellDisplayValue(n,l)):(g=e.getCellValue(i,l),p=e.getCellValue(n,l)),d=a(g,p,i,n,s,l),c++}return 0===d?i.entity.$$uiGridIndex-n.entity.$$uiGridIndex:s===t.ASC?d:0-d},g=i.sort(c),p=function(e,t){delete e.entity.$$uiGridIndex};return i.forEach(p),g}},r}])}(),function(){function e(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,i,r,n){for(var o=i===(r?"border":"content")?4:"width"===t?1:0,a=0,l=["Top","Right","Bottom","Left"];4>o;o+=2){var s=l[o];if("margin"===i){var d=parseFloat(n[i+s]);isNaN(d)||(a+=d)}if(r){if("content"===i){var u=parseFloat(n["padding"+s]);isNaN(u)||(a-=u)}if("margin"!==i){var c=parseFloat(n["border"+s+"Width"]);isNaN(c)||(a-=c)}}else{var g=parseFloat(n["padding"+s]);if(isNaN(g)||(a+=g),"padding"!==i){var p=parseFloat(n["border"+s+"Width"]);isNaN(p)||(a+=p)}}}return a}function i(i,r,n){var o,l=!0,s=e(i),d="border-box"===s.boxSizing;if(0>=o||null==o){if(o=s[r],(0>o||null==o)&&(o=i.style[r]),a.test(o))return o;l=d&&!0,o=parseFloat(o)||0}var u=o+t(i,r,n||(d?"border":"content"),l,s);return u}function r(t){t=angular.element(t)[0];var i=t.parentElement;return i||(i=document.getElementsByTagName("body")[0]),parseInt(e(i).fontSize)||parseInt(e(t).fontSize)||16}var n,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(n=function(){var e=Array.prototype.slice;return function(t){var i=this,r=e.call(arguments,1);return r.length?function(){return arguments.length?i.apply(t,r.concat(e.call(arguments))):i.apply(t,r)}:function(){return arguments.length?i.apply(t,arguments):i.call(t)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),l=/^(block|none|table(?!-c[ea]).+)/,s={position:"absolute",visibility:"hidden",display:"block"},d=["0","0","0","0"],u="uiGrid-";o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,a,c,g,p,f,m,h,v,C,w){function y(e,t){var i=angular.element(this),r=0,n=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(n=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=-1*o,o=0),r=0===o?n:o,"deltaY"in t&&(o=-1*t.deltaY,r=o),"deltaX"in t&&(n=t.deltaX,0===o&&(r=-1*n)),0!==o||0!==n){if(1===t.deltaMode){var l=i.data("mousewheel-line-height");r*=l,o*=l,n*=l}else if(2===t.deltaMode){var s=i.data("mousewheel-page-height");r*=s,o*=s,n*=s}a=Math.max(Math.abs(o),Math.abs(n)),(!A||A>a)&&(A=a,S(t,a)&&(A/=40)),r=Math[r>=1?"floor":"ceil"](r/A),n=Math[n>=1?"floor":"ceil"](n/A),o=Math[o>=1?"floor":"ceil"](o/A);var d={originalEvent:t,deltaX:n,deltaY:o,deltaFactor:A,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};x&&clearTimeout(x),x=setTimeout(b,200),e.call(i[0],d)}}function b(){A=null}function S(e,t){return"mousewheel"===e.type&&t%120===0}var E={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var i=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var r=e[0];return angular.forEach(r,function(e,r){-1===t.indexOf(r)&&i.push({name:r})}),i},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(p.get(e))return E.postProcessTemplate(p.get(e));if(angular.isFunction(e.then))return e.then(E.postProcessTemplate)["catch"](angular.noop);try{if(angular.element(e).length>0)return v.when(e).then(E.postProcessTemplate)["catch"](angular.noop)}catch(t){}return E.logDebug("fetching url",e),g({method:"GET",url:e}).then(function(t){var i=t.data.trim();return p.put(e,i),i},function(t){throw new Error("Could not get template "+e+": "+t)}).then(E.postProcessTemplate)["catch"](angular.noop)},postProcessTemplate:function(e){var t=C.startSymbol(),i=C.endSymbol();return("{{"!==t||"}}"!==i)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,i)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var r=i.offsetWidth;return e.parentNode.removeChild(e),t-r},swap:function(e,t,i,r){var n,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];n=i.apply(e,r||[]);for(o in t)e.style[o]=a[o];return n},fakeElement:function(e,t,i,r){var n,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),n=i.call(a,a),angular.element(a).remove(),n},normalizeWheelEvent:function(e){var t,i,r,n=e||window.event,o=([].slice.call(arguments,1),0),a=0,l=0,s=0,d=0;return n.originalEvent&&(n=n.originalEvent),n.wheelDelta&&(o=n.wheelDelta),n.detail&&(o=-1*n.detail),l=o,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(l=0,a=-1*o),n.deltaY&&(l=-1*n.deltaY,o=l),n.deltaX&&(a=n.deltaX,o=-1*a),void 0!==n.wheelDeltaY&&(l=n.wheelDeltaY),void 0!==n.wheelDeltaX&&(a=n.wheelDeltaX),s=Math.abs(o),(!t||t>s)&&(t=s),d=Math.max(Math.abs(l),Math.abs(a)),(!i||i>d)&&(i=d),r=o>0?"floor":"ceil",o=Math[r](o/t),a=Math[r](a/i),l=Math[r](l/i),{delta:o,deltaX:a,deltaY:l}},isTouchEnabled:function(){var e;return("ontouchstart"in a||a.DocumentTouch&&c instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e},endsWith:function(e,t){return!(!e||!t||"string"!=typeof e)&&-1!==e.indexOf(t,e.length-t.length)},arrayContainsObjectWithProperty:function(e,t,i){var r=!1;return angular.forEach(e,function(e){e[t]===i&&(r=!0)}),r},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=h.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(i){}},enableAnimations:function(e){var t;try{return t=h.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(i){}},nextUid:function(){for(var e,t=d.length;t;){if(t--,e=d[t].charCodeAt(0),57===e)return d[t]="A",u+d.join("");if(90!==e)return d[t]=String.fromCharCode(e+1),u+d.join("");d[t]="0"}return d.unshift("0"),u+d.join("")},hashKey:function(e){var t,i=typeof e;return"object"===i&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=E.nextUid()):t=e,i+":"+t},resetUids:function(){d=["0","0","0"]},logError:function(e){w.LOG_ERROR_MESSAGES&&o.error(e)},logWarn:function(e){w.LOG_WARN_MESSAGES&&o.warn(e)},logDebug:function(){w.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};E.focus={queue:[],byId:function(e,t){this._purgeQueue();var i=f(function(){var i=(t&&t.id?t.id+"-":"")+e,r=a.document.getElementById(i);r?r.focus():E.logWarn("[focus.byId] Element id "+i+" was not found.")},0,!1);return this.queue.push(i),i},byElement:function(e){if(!angular.isElement(e))return E.logWarn("Trying to focus on an element that isn't an element."),v.reject("not-element");e=angular.element(e),this._purgeQueue();var t=f(function(){e&&e[0].focus()},0,!1);return this.queue.push(t),t},bySelector:function(e,t,i){var r=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var n=function(){var i=e[0].querySelector(t);return r.byElement(i)};if(this._purgeQueue(),i){var o=f(n,0,!1);return this.queue.push(o),o}return n()},_purgeQueue:function(){this.queue.forEach(function(e){f.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var r=angular.uppercase(t.charAt(0))+t.substr(1);E["element"+r]=function(r,n){var o=r;if(o&&"undefined"!=typeof o.length&&o.length&&(o=r[0]),o&&null!==o){var a=e(o);return 0===o.offsetWidth&&l.test(a.display)?E.swap(o,s,function(){return i(o,t,n)}):i(o,t,n)}return null},E["outerElement"+r]=function(e,t){return e?E["element"+r].call(this,e,t?"margin":"border"):null}}),E.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(i=e,!0)});for(var r;null!==e;){if(r=e.parentElement,null!==r&&r[i](t))return r;e=r}return null},E.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},E.getBorderSize=function(t,i){"undefined"!=typeof t.length&&t.length&&(t=t[0]);var r=e(t);i=i?"border"+i.charAt(0).toUpperCase()+i.slice(1):"border",i+="Width";var n=parseInt(r[i],10);return isNaN(n)?0:n},E.detectBrowser=function(){var e=a.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var i in t)if(t[i].test(e))return i;return"unknown"},E.rtlScrollType=function T(){if(T.type)return T.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),T.type=t,t},E.normalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i=e.scrollLeft;if(t.isRTL())switch(E.rtlScrollType()){case"default":return e.scrollWidth-i-e.clientWidth;case"negative":return Math.abs(i);case"reverse":return i}return i},E.denormalizeScrollLeft=function(e,t,i){if("undefined"!=typeof e.length&&e.length&&(e=e[0]),i.isRTL())switch(E.rtlScrollType()){case"default":var r=e.scrollWidth-e.clientWidth;return r-t;case"negative":return-1*t;case"reverse":return t}return t},E.preEval=function(e){var t=w.BRACKET_REGEXP.exec(e);if(t)return(t[1]?E.preEval(t[1]):t[1])+t[2]+(t[3]?E.preEval(t[3]):t[3]);e=e.replace(w.APOS_REGEXP,"\\'");var i=e.split(w.DOT_REGEXP),r=[i.shift()];return angular.forEach(i,function(e){r.push(e.replace(w.FUNC_REGEXP,"']$1"))}),r.join("['")},E.debounce=function(e,t,i){function r(){a=this,o=arguments;var r=function(){n=null,i||(l=e.apply(a,o))},s=i&&!n;return n&&f.cancel(n),n=f(r,t,!1),s&&(l=e.apply(a,o)),l}var n,o,a,l;return r.cancel=function(){f.cancel(n),n=null},r},E.throttle=function(e,t,i){function r(t){a=+new Date,e.apply(n,o),m(function(){l=null},0,1,!1)}i=i||{};var n,o,a=0,l=null;return function(){if(n=this,o=arguments,null===l){var e=+new Date-a;e>t?r():i.trailing&&(l=m(r,t-e,1,!1))}}},E.on={},E.off={},E._events={},E.addOff=function(e){E.off[e]=function(t,i){var r=E._events[e].indexOf(i);r>0&&E._events[e].removeAt(r)}};var x,A,R="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return E.on.mousewheel=function(e,t){if(e&&t){var i=angular.element(e);i.data("mousewheel-line-height",r(i)),i.data("mousewheel-page-height",E.elementHeight(i)),i.data("mousewheel-callbacks")||i.data("mousewheel-callbacks",{});var o=i.data("mousewheel-callbacks");o[t]=(Function.prototype.bind||n).call(y,i[0],t);for(var a=R.length;a;)i.on(R[--a],o[t]);i.on("$destroy",function(){for(var e=R.length;e;)i.off(R[--e],o[t])})}},E.off.mousewheel=function(e,t){var i=angular.element(e),r=i.data("mousewheel-callbacks"),n=r[t];if(n)for(var o=R.length;o;)i.off(R[--o],n);delete r[t],0===Object.keys(r).length&&(i.removeData("mousewheel-line-height"),i.removeData("mousewheel-page-height"),i.removeData("mousewheel-callbacks"))},E}]),o.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("bg",{headerCell:{aria:{defaultFilterLabel:"Филттър за колоната",removeFilter:"Премахни филтър",columnMenuButtonLabel:"Меню на колоната"},priority:"Приоритет:",filterLabel:"Филтър за колоната: "},aggregate:{label:"обекти"},search:{placeholder:"Търсене...",showingItems:"Показани обекти:",selectedItems:"избрани обекти:",totalItems:"Общо:",size:"Размер на страницата:",first:"Първа страница",next:"Следваща страница",previous:"Предишна страница",last:"Последна страница"},menu:{text:"Избери колони:"},sort:{ascending:"Сортиране по възходящ ред",descending:"Сортиране по низходящ ред",none:"Без сортиране",remove:"Премахни сортирането"},column:{hide:"Скрий колоната"},aggregation:{count:"Общо редове: ",sum:"общо: ",avg:"средно: ",min:"най-малко: ",max:"най-много: "},pinning:{pinLeft:"Прикрепи вляво",pinRight:"Прикрепи вдясно",unpin:"Премахване"},columnMenu:{close:"Затвори"},gridMenu:{aria:{buttonLabel:"Меню на таблицата"},columns:"Колони:",importerTitle:"Импортиране на файл",exporterAllAsCsv:"Експортиране на данните като csv",exporterVisibleAsCsv:"Експортиране на видимите данни като csv",exporterSelectedAsCsv:"Експортиране на избраните данни като csv",exporterAllAsPdf:"Експортиране на данните като pdf",exporterVisibleAsPdf:"Експортиране на видимите данни като pdf",exporterSelectedAsPdf:"Експортиране на избраните данни като pdf",clearAllFilters:"Премахни всички филтри"},importer:{noHeaders:"Имената на колоните не успяха да бъдат извлечени, файлът има ли хедър?",noObjects:"Обектите не успяха да бъдат извлечени, файлът съдържа ли данни, различни от хедър?",invalidCsv:"Файлът не може да бъде обработеб, уверете се, че е валиден CSV файл",invalidJson:"Файлът не може да бъде обработеб, уверете се, че е валиден JSON файл",jsonNotArray:"Импортираният JSON файл трябва да съдържа масив, прекратяване."},pagination:{aria:{pageToFirst:"Към първа страница",pageBack:"Страница назад",pageSelected:"Избрана страница",pageForward:"Страница напред",pageToLast:"Към последна страница"},sizes:"обекта на страница",totalItems:"обекта",through:"до",of:"от"},grouping:{group:"Групиране",ungroup:"Премахване на групирането",aggregate_count:"Сбор: Брой",aggregate_sum:"Сбор: Сума",aggregate_max:"Сбор: Максимум",aggregate_min:"Сбор: Минимум",aggregate_avg:"Сбор: Средно",aggregate_remove:"Сбор: Премахване"},validate:{error:"Грешка:",minLength:"Стойността трябва да съдържа поне THRESHOLD символа.",maxLength:"Стойността не трябва да съдържа повече от THRESHOLD символа.",required:"Необходима е стойност."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Gå til første",pageBack:"Gå tilbage",pageSelected:"Valgte side",pageForward:"Gå frem",pageToLast:"Gå til sidste"},sizes:"genstande per side",totalItems:"genstande",through:"gennem",of:"af"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{aria:{selected:"Zeile markiert",notSelected:"Zeile nicht markiert"},placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträgen",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{aria:{selected:"Row selected",notSelected:"Row not selected"},placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{headerCell:{aria:{defaultFilterLabel:"Filtre de la colonne",removeFilter:"Supprimer le filtre",
columnMenuButtonLabel:"Menu de la colonne"},priority:"Priorité:",filterLabel:"Filtre de la colonne: "},aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",none:"Aucun tri",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},columnMenu:{close:"Fermer"},gridMenu:{aria:{buttonLabel:"Menu du tableau"},columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{aria:{pageToFirst:"Aller à la première page",pageBack:"Page précédente",pageSelected:"Page sélectionnée",pageForward:"Page suivante",pageToLast:"Aller à la dernière page"},sizes:"éléments par page",totalItems:"éléments",through:"à",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compter",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"},validate:{error:"Erreur:",minLength:"La valeur doit être supérieure ou égale à THRESHOLD caractères.",maxLength:"La valeur doit être inférieure ou égale à THRESHOLD caractères.",required:"Une valeur est nécéssaire."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("is",{headerCell:{aria:{defaultFilterLabel:"Sía fyrir dálk",removeFilter:"Fjarlægja síu",columnMenuButtonLabel:"Dálkavalmynd"},priority:"Forgangsröðun:",filterLabel:"Sía fyrir dálka: "},aggregate:{label:"hlutir"},groupPanel:{description:"Dragðu dálkhaus hingað til að flokka saman eftir þeim dálki."},search:{placeholder:"Leita...",showingItems:"Sýni hluti:",selectedItems:"Valdir hlutir:",totalItems:"Hlutir alls:",size:"Stærð síðu:",first:"Fyrsta síða",next:"Næsta síða",previous:"Fyrri síða",last:"Síðasta síða"},menu:{text:"Veldu dálka:"},sort:{ascending:"Raða hækkandi",descending:"Raða lækkandi",none:"Engin röðun",remove:"Fjarlægja röðun"},column:{hide:"Fela dálk"},aggregation:{count:"fjöldi raða: ",sum:"summa: ",avg:"meðaltal: ",min:"lágmark: ",max:"hámark: "},pinning:{pinLeft:"Festa til vinstri",pinRight:"Festa til hægri",unpin:"Losa"},columnMenu:{close:"Loka"},gridMenu:{aria:{buttonLabel:"Töflu valmynd"},columns:"Dálkar:",importerTitle:"Flytja inn skjal",exporterAllAsCsv:"Flytja út gögn sem csv",exporterVisibleAsCsv:"Flytja út sýnileg gögn sem csv",exporterSelectedAsCsv:"Flytja út valin gögn sem csv",exporterAllAsPdf:"Flytja út öll gögn sem pdf",exporterVisibleAsPdf:"Flytja út sýnileg gögn sem pdf",exporterSelectedAsPdf:"Flytja út valin gögn sem pdf",clearAllFilters:"Hreinsa allar síur"},importer:{noHeaders:"Ekki hægt að vinna dálkanöfn úr skjalinu, er skjalið örugglega með haus?",noObjects:"Ekki hægt að vinna hluti úr skjalinu, voru örugglega gögn í skjalinu önnur en hausinn?",invalidCsv:"Tókst ekki að vinna skjal, er það örggulega gilt CSV?",invalidJson:"Tókst ekki að vinna skjal, er það örugglega gilt Json?",jsonNotArray:"Innflutt json skjal verður að innihalda fylki, hætti við."},pagination:{aria:{pageToFirst:"Fletta að fyrstu",pageBack:"Fletta til baka",pageSelected:"Valin síða",pageForward:"Fletta áfram",pageToLast:"Fletta að síðustu"},sizes:"hlutir á síðu",totalItems:"hlutir",through:"gegnum",of:"af"},grouping:{group:"Flokka",ungroup:"Sundurliða",aggregate_count:"Fjöldi: ",aggregate_sum:"Summa: ",aggregate_max:"Hámark: ",aggregate_min:"Lágmark: ",aggregate_avg:"Meðaltal: ",aggregate_remove:"Fjarlægja: "},validate:{error:"Villa:",minLength:"Gildi ætti að vera a.m.k. THRESHOLD stafa langt.",maxLength:"Gildi ætti að vera í mesta lagi THRESHOLD stafa langt.",required:"Þarf að hafa gildi."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},pagination:{aria:{pageToFirst:"Prima",pageBack:"Indietro",pageSelected:"Pagina selezionata",pageForward:"Avanti",pageToLast:"Ultima"},sizes:"elementi per pagina",totalItems:"elementi",through:"a",of:"di"},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{headerCell:{aria:{defaultFilterLabel:"列のフィルター",removeFilter:"フィルターの解除",columnMenuButtonLabel:"列のメニュー"},priority:"優先度:",filterLabel:"列フィルター: "},aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",none:"並べ替え無し",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},columnMenu:{close:"閉じる"},gridMenu:{aria:{buttonLabel:"グリッドメニュー"},columns:"列の表示/非表示:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタをクリア"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"},grouping:{group:"グループ化",ungroup:"グループ化の解除",aggregate_count:"集計表示: 行数",aggregate_sum:"集計表示: 合計",aggregate_max:"集計表示: 最大",aggregate_min:"集計表示: 最小",aggregate_avg:"集計表示: 平均",aggregate_remove:"集計表示: 解除"},validate:{error:"Error:",minLength:"THRESHOLD 文字以上で入力してください。",maxLength:"THRESHOLD 文字以下で入力してください。",required:"値が必要です。"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for kolonne",removeFilter:"Fjern filter",columnMenuButtonLabel:"Kolonnemeny"},priority:"Prioritet:",filterLabel:"Filter for kolonne: "},aggregate:{label:"elementer"},groupPanel:{description:"Trekk en kolonneoverskrift hit og slipp den for å gruppere etter den kolonnen."},search:{placeholder:"Søk...",showingItems:"Viste elementer:",selectedItems:"Valgte elementer:",totalItems:"Antall elementer:",size:"Sidestørrelse:",first:"Første side",next:"Neste side",previous:"Forrige side",last:"Siste side"},menu:{text:"Velg kolonner:"},sort:{ascending:"Sortere stigende",descending:"Sortere fallende",none:"Ingen sortering",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antall rader: ",sum:"total: ",avg:"gjennomsnitt: ",min:"minimum: ",max:"maksimum: "},pinning:{pinLeft:"Fest til venstre",pinRight:"Fest til høyre",unpin:"Løsne"},columnMenu:{close:"Lukk"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Kolonnenavn kunne ikke avledes. Har filen en overskrift?",noObjects:"Objekter kunne ikke avledes. Er der andre data i filen enn overskriften?",invalidCsv:"Filen kunne ikke behandles. Er den gyldig CSV?",invalidJson:"Filen kunne ikke behandles. Er den gyldig JSON?",jsonNotArray:"Importert JSON-fil må inneholde en liste. Avbryter."},pagination:{aria:{pageToFirst:"Gå til første side",pageBack:"Gå til forrige side",pageSelected:"Valgte side",pageForward:"Gå til neste side",pageToLast:"Gå til siste side"},sizes:"elementer per side",totalItems:"elementer",through:"til",of:"av"},grouping:{group:"Gruppere",ungroup:"Fjerne gruppering",aggregate_count:"Agr: Antall",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Maksimum",aggregate_min:"Agr: Minimum",aggregate_avg:"Agr: Gjennomsnitt",aggregate_remove:"Agr: Fjern"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filtr dla kolumny",removeFilter:"Usuń filtr",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{aria:{selected:"Wiersz zaznaczony",notSelected:"Wiersz niezaznaczony"},placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumnę"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Opcje tabeli"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udało się przetworzyć pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udało się przetworzyć pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawierać tablicę, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"},validate:{error:"Błąd:",minLength:"Wartość powinna składać się z co najmniej THRESHOLD znaków.",maxLength:"Wartość powinna składać się z przynajmniej THRESHOLD znaków.",required:"Wartość jest wymagana."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"a",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",
previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ua",{headerCell:{aria:{defaultFilterLabel:"Фільтр стовпчика",removeFilter:"Видалити фільтр",columnMenuButtonLabel:"Меню ствпчика"},priority:"Пріоритет:",filterLabel:"Фільтр стовпчика: "},aggregate:{label:"елементи"},groupPanel:{description:"Для групування за стовпчиком перетягніть сюди його назву."},search:{placeholder:"Пошук...",showingItems:"Показати елементи:",selectedItems:"Обрані елементи:",totalItems:"Усього елементів:",size:"Розмір сторінки:",first:"Перша сторінка",next:"Наступна сторінка",previous:"Попередня сторінка",last:"Остання сторінка"},menu:{text:"Обрати ствпчики:"},sort:{ascending:"За зростанням",descending:"За спаданням",none:"Без сортування",remove:"Прибрати сортування"},column:{hide:"Приховати стовпчик"},aggregation:{count:"усього рядків: ",sum:"ітого: ",avg:"середнє: ",min:"мін: ",max:"макс: "},pinning:{pinLeft:"Закріпити ліворуч",pinRight:"Закріпити праворуч",unpin:"Відкріпити"},columnMenu:{close:"Закрити"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Стовпчики:",importerTitle:"Імпортувати файл",exporterAllAsCsv:"Експортувати все в CSV",exporterVisibleAsCsv:"Експортувати видимі дані в CSV",exporterSelectedAsCsv:"Експортувати обрані дані в CSV",exporterAllAsPdf:"Експортувати все в PDF",exporterVisibleAsPdf:"Експортувати видимі дані в PDF",exporterSelectedAsPdf:"Експортувати обрані дані в PDF",clearAllFilters:"Очистити всі фільтри"},importer:{noHeaders:"Не вдалося отримати назви стовпчиків, чи є в файлі заголовок?",noObjects:"Не вдалося отримати дані, чи є в файлі рядки окрім заголовка?",invalidCsv:"Не вдалося обробити файл, чи це коректний CSV-файл?",invalidJson:"Не вдалося обробити файл, чи це коректний JSON?",jsonNotArray:"JSON-файл що імпортується повинен містити масив, операцію скасовано."},pagination:{aria:{pageToFirst:"Перша сторінка",pageBack:"Попередня сторінка",pageSelected:"Обрана сторінка",pageForward:"Наступна сторінка",pageToLast:"Остання сторінка"},sizes:"рядків на сторінку",totalItems:"рядків",through:"по",of:"з"},grouping:{group:"Групувати",ungroup:"Розгрупувати",aggregate_count:"Групувати: Кількість",aggregate_sum:"Для групи: Сума",aggregate_max:"Для групи: Максимум",aggregate_min:"Для групи: Мінімум",aggregate_avg:"Для групи: Серднє",aggregate_remove:"Для групи: Пусто"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],i=angular.module("ui.grid.i18n");i.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),i.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,i){var r={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var i=e.toLowerCase();this._langs[i]||(this._langs[i]={}),angular.extend(this._langs[i],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},n={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&r.add(e,t)}):r.add(e,t)},getAllLangs:function(){return r.getAllLangs()},get:function(e){var t=e?e:n.getCurrentLang();return r.get(t)},getSafeText:function(e,i){var o=i?i:n.getCurrentLang(),a=r.get(o);if(!a)return t.MISSING;for(var l=e.split("."),s=a,d=0;d<l.length;++d){if(void 0===s[l[d]]||null===s[l[d]])return t.MISSING;s=s[l[d]]}return s},setCurrentLang:function(e){e&&(r.setCurrent(e),i.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=r.getCurrentLang();return e||(e=t.DEFAULT_LANG,r.setCurrent(e)),e}};return n}]);var r=function(e,t){return{compile:function(){return{pre:function(i,r,n){var o=t.LOCALE_DIRECTIVE_ALIAS,a=i.$eval(n[o]);a?i.$watch(n[o],function(){e.setCurrentLang(a)}):n.$$observers&&n.$observe(o,function(){e.setCurrentLang(n[o]||t.DEFAULT_LANG)})}}}}};i.directive("uiI18n",["i18nService","i18nConstants",r]);var n=function(t,i,r){return{restrict:"EA",compile:function(){return{pre:function(n,o,a){var l,s=e[0],d=e[1],u=a[s]||a[d]||o.html(),c=r.MISSING+u;if(a.$$observers){var g=a[s]?s:d;l=a.$observe(g,function(e){e&&o.html(t(e)(i.getCurrentLang())||c)})}var p=t(u),f=n.$on(r.UPDATE_EVENT,function(e){l?l(a[s]||a[d]):o.html(p(i.get())||c)});n.$on("$destroy",f),o.html(p(i.get())||c)}}}}};angular.forEach(e,function(e){i.directive(e,["$parse","i18nService","i18nConstants",n])});var o=function(e,t,i){return function(r){var n=e(r);return n(t.get())||i.MISSING+r}};angular.forEach(t,function(e){i.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,i,r,n){function o(){s=t.elementHeight(i),l=t.elementWidth(i)}function a(){clearTimeout(d),d=setTimeout(function(){var r=t.elementHeight(i),d=t.elementWidth(i);r!==s||d!==l?(n.grid.gridHeight=r,n.grid.gridWidth=d,n.grid.api.core.raise.gridDimensionChanged(s,l,r,d),e.$apply(function(){n.grid.refresh().then(function(){o(),a()})})):a()},250)}var l,s;o();var d;a(),e.$on("$destroy",function(){clearTimeout(d)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,i,r,n){var o=function(e,t,i,r){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=i?i.visibleColumnCache:[],this.rightColumns=r?r.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},o.prototype.getNextRowCol=function(e,t,r){switch(e){case i.direction.LEFT:return this.getRowColLeft(t,r);case i.direction.RIGHT:return this.getRowColRight(t,r);case i.direction.UP:return this.getRowColUp(t,r);case i.direction.DOWN:return this.getRowColDown(t,r);case i.direction.PG_UP:return this.getRowColPageUp(t,r);case i.direction.PG_DOWN:return this.getRowColPageDown(t,r)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();return 0===e.length||0===t.length?null:new r(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var i=this.getFocusableCols(),n=this.getFocusableRows(),o=i.indexOf(t),a=n.indexOf(e);-1===o&&(o=1);var l=0===o?i.length-1:o-1;return l>=o?0===a?new r(e,i[l]):new r(n[a-1],i[l]):new r(e,i[l])},o.prototype.getRowColRight=function(e,t){var i=this.getFocusableCols(),n=this.getFocusableRows(),o=i.indexOf(t),a=n.indexOf(e);-1===o&&(o=0);var l=o===i.length-1?0:o+1;return o>=l?a===n.length-1?new r(e,i[l]):new r(n[a+1],i[l]):new r(e,i[l])},o.prototype.getRowColDown=function(e,t){var i=this.getFocusableCols(),n=this.getFocusableRows(),o=i.indexOf(t),a=n.indexOf(e);return-1===o&&(o=0),a===n.length-1?new r(e,i[o]):new r(n[a+1],i[o])},o.prototype.getRowColPageDown=function(e,t){var i=this.getFocusableCols(),n=this.getFocusableRows(),o=i.indexOf(t),a=n.indexOf(e);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return a>=n.length-l?new r(n[n.length-1],i[o]):new r(n[a+l],i[o])},o.prototype.getRowColUp=function(e,t){var i=this.getFocusableCols(),n=this.getFocusableRows(),o=i.indexOf(t),a=n.indexOf(e);return-1===o&&(o=0),0===a?new r(e,i[o]):new r(n[a-1],i[o])},o.prototype.getRowColPageUp=function(e,t){var i=this.getFocusableCols(),n=this.getFocusableRows(),o=i.indexOf(t),a=n.indexOf(e);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return 0>a-l?new r(n[0],i[o]):new r(n[a-l],i[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,i,r,n,o,a){var l={initializeGrid:function(e){e.registerColumnBuilder(l.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],l.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,i){return l.scrollToFocus(e,t,i)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var i=-1,r=0;r<e.cellNav.focusedCells.length;r++)if(e.cellNav.focusedCells[r].col.uid===t.col.uid&&e.cellNav.focusedCells[r].row.uid===t.row.uid){i=r;break}return i}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0,e.keyDownOverrides=e.keyDownOverrides||[]},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,i=e.hasLeftContainer()?e.renderContainers.left:null;null!==i&&(e.renderContainers.left.cellNav=new n(e.renderContainers.body,i,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new n(e.renderContainers.body,t,e.renderContainers.body,i)),e.renderContainers.body.cellNav=new n(e.renderContainers.body,e.renderContainers.body,i,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?i.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?i.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?i.direction.UP:e.keyCode===t.keymap.PG_UP?i.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?i.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?i.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,i){var n=[];return e.allowCellFocus=void 0===e.allowCellFocus||e.allowCellFocus,r.all(n)},scrollToFocus:function(e,t,i){var r=null,n=null;return"undefined"!=typeof t&&null!==t&&(r=e.getRow(t)),"undefined"!=typeof i&&null!==i&&(n=e.getColumn(i.name?i.name:i.field)),e.api.core.scrollToIfNecessary(r,n).then(function(){var t={row:r,col:n};null!==r&&null!==n&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var i=0;if(!t)return i;var r=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){r>t&&(i+=e.drawnWidth)});var n=0===r?0:(r+1)/e.renderContainers.body.visibleColumnCache.length;return i+=t.drawnWidth*n}};return l}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile","i18nService",function(e,t,i,r,n,o,a,l){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,l){var s=e,d=l.grid;t.initializeGrid(d),l.cellNav={},l.cellNav.makeRowCol=function(e){return e instanceof n||(e=new n(e.row,e.col)),e},l.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},l.cellNav.broadcastCellNav=d.cellNav.broadcastCellNav=function(e,t,r){t=!(void 0===t||!t),e=l.cellNav.makeRowCol(e),l.cellNav.broadcastFocus(e,t,r),s.$broadcast(i.CELL_NAV_EVENT,e,t,r)},l.cellNav.clearFocus=d.cellNav.clearFocus=function(){d.cellNav.focusedCells=[],s.$broadcast(i.CELL_NAV_EVENT)},l.cellNav.broadcastFocus=function(e,t,i){t=!(void 0===t||!t),e=l.cellNav.makeRowCol(e);var r=e.row,o=e.col,a=l.grid.api.cellNav.rowColSelectIndex(e);if(null===d.cellNav.lastRowCol||-1===a){var s=new n(r,o);(null===d.cellNav.lastRowCol||d.cellNav.lastRowCol.row!==s.row||d.cellNav.lastRowCol.col!==s.col)&&(d.api.cellNav.raise.navigate(s,d.cellNav.lastRowCol,i),d.cellNav.lastRowCol=s),l.grid.options.modifierKeysToMultiSelectCells&&t?d.cellNav.focusedCells.push(e):d.cellNav.focusedCells=[e]}else d.options.modifierKeysToMultiSelectCells&&t&&a>=0&&d.cellNav.focusedCells.splice(a,1)},l.cellNav.handleKeyDown=function(e){var n=t.getDirection(e);if(null===n)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=l.grid.api.cellNav.getFocusedCell();if(a){var s=l.grid.renderContainers[o].cellNav.getNextRowCol(n,a.row,a.col),u=l.grid.renderContainers[o].cellNav.getFocusableCols(),c=l.grid.api.cellNav.rowColSelectIndex(s);return n===i.direction.LEFT&&s.col===u[u.length-1]&&s.row===a.row&&e.keyCode===r.keymap.TAB&&e.shiftKey?(d.cellNav.focusedCells.splice(c,1),l.cellNav.clearFocus(),!0):n!==i.direction.RIGHT||s.col!==u[0]||s.row!==a.row||e.keyCode!==r.keymap.TAB||e.shiftKey?(d.scrollToIfNecessary(s.row,s.col).then(function(){l.cellNav.broadcastCellNav(s,null,e)}),e.stopPropagation(),e.preventDefault(),!1):(d.cellNav.focusedCells.splice(c,1),l.cellNav.clearFocus(),!0)}}},post:function(e,t,r,n){function o(){var r='<div id="'+s.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="alert" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',n=a(r)(e);t.prepend(n),e.$on(i.CELL_NAV_EVENT,function(e,t,i,r){function o(e){e!==n.text().trim()&&(n[0].style.clip="rect(0px,0px,0px,0px)",n[0].innerHTML="",n[0].style.visibility="hidden",n[0].style.visibility="visible",""!==e&&(n[0].style.clip="auto",n[0].appendChild(document.createTextNode(e+" ")),n[0].style.visibility="hidden",n[0].style.visibility="visible"))}function a(e){return"selectionRowHeaderCol"===e.col.field?e.row.isSelected?l.getSafeText("search.aria.selected"):l.getSafeText("search.aria.notSelected"):s.getCellDisplayValue(e.row,u[c].col)}if(!r||"focus"!==r.type){for(var d=[],u=s.api.cellNav.getCurrentSelection(),c=0;c<u.length;c++)d.push(a(u[c]));var g=d.toString();o(g)}})}var s=n.grid,d=!0;try{angular.module("ngAria")}catch(u){d=!1}d&&o()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,i,r,n,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,r,l,s){var d=s[0],u=s[1],c=s[2];if(d.grid.api.cellNav){var g=u.containerId,p=d.grid;if(n.decorateRenderContainers(p),"body"===g){d.grid.options.modifierKeysToMultiSelectCells?r.attr("aria-multiselectable",!0):r.attr("aria-multiselectable",!1);var f=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+p.id+"-aria-speakable "+p.id+'-grid-container" aria-owns="'+p.id+'-grid-container"></div>')(t);r.append(f),f.on("focus",function(e){e.uiGridTargetRenderContainerId=g;var t=d.grid.api.cellNav.getFocusedCell();null===t&&(t=d.grid.renderContainers[g].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&d.cellNav.broadcastCellNav(t))}),c.setAriaActivedescendant=function(e){r.attr("aria-activedescendant",e)},c.removeAriaActivedescendant=function(e){r.attr("aria-activedescendant")===e&&r.attr("aria-activedescendant","")},d.focus=function(){i.focus.byElement(f[0])};var m=null;f.on("keydown",function(e){e.uiGridTargetRenderContainerId=g;var t=d.grid.api.cellNav.getFocusedCell(),i=d.grid.options.keyDownOverrides.some(function(t){return Object.keys(t).every(function(i){return t[i]===e[i]})}),r=i?null:d.cellNav.handleKeyDown(e);null===r&&(d.grid.api.cellNav.raise.viewPortKeyDown(e,t),m=t)}),f.on("keypress",function(t){m&&(e(function(){d.grid.api.cellNav.raise.viewPortKeyPress(t,m)},4),m=null)}),t.$on("$destroy",function(){f.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,i,r,n,o,a,l){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,i,r){},post:function(e,t,i,r){var n=r[0],o=r[1];if(n.grid.api.cellNav){var a=o.containerId;if("body"===a){var l=n.grid;l.api.core.on.scrollBegin(e,function(e){var t=n.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&n.cellNav.clearFocus()}),l.api.core.on.scrollEnd(e,function(e){var t=n.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&n.cellNav.broadcastCellNav(t)}),l.api.cellNav.on.navigate(e,function(){n.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,i,r,n,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(t,i,r,l){function s(e){e.preventDefault()}function d(){var e=f.cellNav.focusedCells.some(function(e,i){return e.row===t.row&&e.col===t.col});e?u():c()}function u(){if(!t.focused){var e=i.find("div");e.addClass("ui-grid-cell-focus"),i.attr("aria-selected",!0),p.setAriaActivedescendant(i.attr("id")),t.focused=!0}}function c(){if(t.focused){var e=i.find("div");e.removeClass("ui-grid-cell-focus"),i.attr("aria-selected",!1),p.removeAriaActivedescendant(i.attr("id")),t.focused=!1}}var g=l[0],p=l[1];if(g.grid.api.cellNav&&t.col.colDef.allowCellFocus){var f=g.grid;t.focused=!1,i.attr("tabindex",-1),i.find("div").on("click",function(e){g.cellNav.broadcastCellNav(new a(t.row,t.col),e.ctrlKey||e.metaKey,e),e.stopPropagation(),t.$apply()}),i.on("mousedown",s),g.grid.api.edit&&(g.grid.api.edit.on.beginCellEdit(t,function(){i.off("mousedown",s)}),g.grid.api.edit.on.afterCellEdit(t,function(){i.on("mousedown",s)}),g.grid.api.edit.on.cancelCellEdit(t,function(){i.on("mousedown",s)})),d(),i.on("focus",function(e){g.cellNav.broadcastCellNav(new a(t.row,t.col),!1,e),e.stopPropagation(),t.$apply()}),t.$on(n.CELL_NAV_EVENT,d);var m=g.grid.registerDataChangeCallback(function(t){c(),e(d)},[o.dataChange.ROW]);t.$on("$destroy",function(){m(),i.find("div").off(),i.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,i){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(e,t,i,r){},beginCellEdit:function(e,t,i){},cancelCellEdit:function(e,t){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition||e.cellEditableCondition,e.enableCellEditOnFocus=void 0!==e.enableCellEditOnFocus&&e.enableCellEditOnFocus},editColumnBuilder:function(t,r,n){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===n.enableCellEdit?"object"!==t.type:n.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?n.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||n.editableCellTemplate||"ui-grid/cellEditor",o.push(i.getTemplate(t.editableCellTemplate).then(function(e){r.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?n.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return!(e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER)}};return r}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){t.initializeGrid(n.grid)},post:function(e,t,i,r){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,i,r,n){var o=n[0];if(o.grid.api.edit&&o.grid.api.cellNav){var a=n[1].containerId;"body"===a&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,i,r,n,o,a,l,s,d){var u=500;return t.has("uiGridCellNavService")&&t.get("uiGridCellNavService"),{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,c,g,p){function f(){c.on("dblclick",y),c.on("touchstart",m),p&&p.grid.api.cellNav&&(G=p.grid.api.cellNav.on.viewPortKeyDown(t,function(e,i){null!==i&&(i.row!==t.row||i.col!==t.col||t.col.colDef.enableCellEditOnFocus||C(e))}),L=p.grid.api.cellNav.on.navigate(t,function(e,r,n){t.col.colDef.enableCellEditOnFocus&&(r&&e.row===r.row&&e.col===r.col||e.row!==t.row||e.col!==t.col||i(function(){y(n)}))})),t.beginEditEventsWired=!0}function m(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),c.on("touchend",h),F=i(function(){},u),F.then(function(){setTimeout(y,0),c.off("touchend",h)})}function h(e){i.cancel(F),c.off("touchend",h)}function v(){c.off("dblclick",y),c.off("keydown",C),c.off("touchstart",m),L(),G(),t.beginEditEventsWired=!1}function C(e){l.isStartEditKey(e)&&y(e)}function w(e,i,r){return!i.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t,r):e.colDef.cellEditableCondition)}function y(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){b(e)})}function b(l){if(!D&&w(t.col,t.row,l)){var u=t.row.getQualifiedColField(t.col);t.col.colDef.editModelField&&(u=o.preEval("row.entity."+t.col.colDef.editModelField)),T=a(u),R=T(t),A=t.col.editableCellTemplate,A=A.replace(r.MODEL_COL_FIELD,u),A=A.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var g=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";A=A.replace(r.CUSTOM_FILTERS,g);var p="text";switch(t.col.colDef.type){case"boolean":p="checkbox";break;case"number":p="number";break;case"date":p="date"}A=A.replace("INPUT_TYPE",p);var f=t.col.colDef.editDropdownOptionsFunction;if(f)d.when(f(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var m=t.col.colDef.editDropdownRowEntityOptionsArrayPath;m?t.editDropdownOptionsArray=x(t.row.entity,m):t.editDropdownOptionsArray=t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var h=function(){D=!0,v();var i=angular.element(A);c.append(i),P=t.$new(),e(i)(P);var r=angular.element(c.children()[0]);r.addClass("ui-grid-cell-contents-hidden")};s.$$phase?h():t.$apply(h);var C=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(S(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,T(t),R),C(),y(),b())}),y=t.$on(n.events.END_CELL_EDIT,function(){S(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,T(t),R),
y(),C(),b()}),b=t.$on(n.events.CANCEL_CELL_EDIT,function(){E(),b(),C(),y()});t.$broadcast(n.events.BEGIN_CELL_EDIT,l),i(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,l)})}}function S(){if(t.grid.disableScrolling=!1,D){p&&p.grid.api.cellNav&&p.focus();var e=angular.element(c.children()[0]);P.$destroy();for(var i=c.children(),n=1;n<i.length;n++)angular.element(i[n]).remove();e.removeClass("ui-grid-cell-contents-hidden"),D=!1,f(),t.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function E(){t.grid.disableScrolling=!1,D&&(T.assign(t,R),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),S())}function x(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split(".");i.length;){var r=i.shift();if(!(r in e))return;e=e[r]}return e}var A,R,T,F,P,D=!1;if(t.col.colDef.enableCellEdit){var L=function(){},G=function(){},I=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?t.beginEditEventsWired||f():t.beginEditEventsWired&&v()};I();var N=t.$watch("row",function(e,t){e!==t&&I()});t.$on("$destroy",function(){N(),c.off()})}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,i,r,n){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,i){},post:function(e,o,a,l){var s,d,u;l[0]&&(s=l[0]),l[1]&&(d=l[1]),l[2]&&(u=l[2]),e.$on(i.events.BEGIN_CELL_EDIT,function(t,i){if(r(function(){if(o[0].focus(),!o[0].select||!e.col.colDef.enableCellEditOnFocus&&s&&s.grid.api.cellNav)try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(t){}else o[0].select()}),s&&s.grid.api.cellNav)var a=s.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){if(n.isStartEditKey(e)){var i="number"==typeof e.which?e.which:e.keyCode;i>0&&(u.$setViewValue(String.fromCharCode(i),e),u.$render())}a()});o.on("mousedown",function(t){"checkbox"===o[0].type&&(o.off("blur",e.stopEdit),r(function(){o[0].focus(),o.on("blur",e.stopEdit)}))}),o.on("blur",e.stopEdit)}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)):e.$emit(i.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,r(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||r.keyCode!==t.keymap.LEFT&&r.keyCode!==t.keymap.RIGHT&&r.keyCode!==t.keymap.UP&&r.keyCode!==t.keymap.DOWN)if(s&&s.grid.api.cellNav)r.uiGridTargetRenderContainerId=d.containerId,null!==s.cellNav.handleKeyDown(r)&&e.stopEdit(r);else switch(r.keyCode){case t.keymap.ENTER:case t.keymap.TAB:r.stopPropagation(),r.preventDefault(),e.stopEdit(r)}else r.stopPropagation();return!0}),e.$on("$destroy",function(){o.off()})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var i=parseInt(t[0],10),r=parseInt(t[1],10),n=parseInt(t[2],10);return 1>r||1>i||1>n?null:new Date(i,r-1,n)}return{priority:-100,require:"?ngModel",link:function(i,r,n,o){2===angular.version.minor&&n.type&&"date"===n.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var i=t(e);return o.$setValidity(null,i&&!isNaN(i.getTime())),i}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants","$timeout",function(e,t,i){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,i){},post:function(r,n,o,a){var l=a[0],s=a[1];r.$on(t.events.BEGIN_CELL_EDIT,function(){i(function(){n[0].focus()}),n[0].style.width=n[0].parentElement.offsetWidth-1+"px",n.on("blur",function(e){r.stopEdit(e)})}),r.stopEdit=function(e){r.$emit(t.events.END_CELL_EDIT)},n.on("keydown",function(i){switch(i.keyCode){case e.keymap.ESC:i.stopPropagation(),r.$emit(t.events.CANCEL_CELL_EDIT)}if(l&&l.grid.api.cellNav)i.uiGridTargetRenderContainerId=s.containerId,null!==l.cellNav.handleKeyDown(i)&&r.stopEdit(i);else switch(i.keyCode){case e.keymap.ENTER:case e.keymap.TAB:i.stopPropagation(),i.preventDefault(),r.stopEdit(i)}return!0}),r.$on("$destroy",function(){n.off()})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,i,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,i){},post:function(t,r,n,o){var a,l;o[0]&&(a=o[0]),o[1]&&(l=o[1]);var s=(a.grid,function(r){var n=r.srcElement||r.target;n&&n.files&&n.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,n.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),n.form.reset(),t.$emit(i.events.END_CELL_EDIT)):t.$emit(i.events.CANCEL_CELL_EDIT)});r[0].addEventListener("change",s,!1),t.$on(i.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(e){t.$emit(i.events.END_CELL_EDIT)})}),t.$on("$destroy",function(){r.off(),r[0].removeEventListener("change",s,!1)})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.emptyBaseLayer",["ui.grid"]);e.service("uiGridBaseLayerService",["gridUtil","$compile",function(e,t){var i={initializeGrid:function(e,t){e.baseLayer={emptyRows:[]},e.options.enableEmptyGridBaseLayer!==!1&&(e.options.enableEmptyGridBaseLayer=!t)},setNumberOfEmptyRows:function(e,t){var i=t.options.rowHeight,r=Math.ceil(e/i);if(r>0){t.baseLayer.emptyRows=[];for(var n=0;r>n;n++)t.baseLayer.emptyRows.push({})}}};return i}]),e.directive("uiGridEmptyBaseLayer",["gridUtil","uiGridBaseLayerService","$parse",function(e,t,i){return{require:"^uiGrid",scope:!1,compile:function(e,r){return{pre:function(e,r,n,o){var a=i(n.uiGridEmptyBaseLayer)(e)===!1;t.initializeGrid(o.grid,a)},post:function(e,i,r,n){function o(){var e=l.getViewportHeight();return e!==s&&(s=e,!0)}function a(e){return".grid"+n.grid.id+" .ui-grid-render-container .ui-grid-empty-base-layer-container.ui-grid-canvas { height: "+e+"px; }"}if(n.grid.options.enableEmptyGridBaseLayer){var l=n.grid.renderContainers.body,s=l.getViewportHeight();n.grid.registerStyleComputation({func:function(){return o()&&t.setNumberOfEmptyRows(s,n.grid),a(s)}})}}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){var r=i.get("ui-grid/emptyBaseLayerContainer");return e.prepend(r),{pre:function(e,t,i,r){},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var i={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=t.options.enableExpandable!==!1,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var r=t.getRow(e);null!==r&&i.toggleRowExpansion(t,r)},expandAllRows:function(){i.expandAllRows(t)},collapseAllRows:function(){i.collapseAllRows(t)},toggleAllRows:function(){i.toggleAllRows(t)},expandRow:function(e){var r=t.getRow(e);null===r||r.isExpanded||i.toggleRowExpansion(t,r)},collapseRow:function(e){var r=t.getRow(e);null!==r&&r.isExpanded&&i.toggleRowExpansion(t,r)},getExpandedRows:function(){return i.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(r.events),t.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&i.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?i.collapseAllRows(e):i.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return i}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,r,n,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,i,r){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,i,r){r.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(r.grid.parentRow=e.row)})},post:function(e,t,i,r){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,i,r,n,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,r,o){n.getTemplate(e.grid.options.expandableRowTemplate).then(function(r){if(e.grid.options.expandableRowScope){var n=e.grid.options.expandableRowScope;for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}var a=angular.element(r);t.append(a),a=i(a)(e),e.row.expandedRendered=!0})},post:function(e,t,i,r){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,i,r){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t})},post:function(e,t,i,r){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e,t){var r=angular.element(e.children().children()[0]),n=i.get("ui-grid/expandableScrollFiller"),o=i.get("ui-grid/expandableRow");return r.append(o),r.append(n),{pre:function(e,t,i,r){},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,i,r,n,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,i){a.csvExport(e,t,i)},pdfExport:function(t,i){a.pdfExport(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):n(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=e.exporterOlderExcelCompatibility===!0,e.exporterIsExcelCompatible=e.exporterIsExcelCompatible===!0,e.exporterMenuItemOrder=e.exporterMenuItemOrder?e.exporterMenuItemOrder:200,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0===e.exporterMenuAllData||e.exporterMenuAllData,e.exporterMenuVisibleData=void 0===e.exporterMenuVisibleData||e.exporterMenuVisibleData,e.exporterMenuSelectedData=void 0===e.exporterMenuSelectedData||e.exporterMenuSelectedData,e.exporterMenuCsv=void 0===e.exporterMenuCsv||e.exporterMenuCsv,e.exporterMenuPdf=void 0===e.exporterMenuPdf||e.exporterMenuPdf,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,i,r){return r},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(i){e.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(i){e.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+1},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(i){e.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuCsv&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+2},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(i){e.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuAllData},order:e.options.exporterMenuItemOrder+3},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(i){e.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuVisibleData},order:e.options.exporterMenuItemOrder+4},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(i){e.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return e.options.exporterMenuPdf&&e.options.exporterMenuSelectedData&&e.api.selection&&e.api.selection.getSelectedRows().length>0},order:e.options.exporterMenuItemOrder+5}])},csvExport:function(e,t,i){var r=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var n=e.options.showHeader?r.getColumnHeaders(e,i):[],o=r.getData(e,t,i),a=r.formatAsCsv(n,o,e.options.exporterCsvColumnSeparator);r.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility,e.options.exporterIsExcelCompatible)})},loadAllDataIfNeeded:function(i,r,n){if(r===t.ALL&&i.rows.length!==i.options.totalItems&&i.options.exporterAllDataFn)return i.options.exporterAllDataFn().then(function(){i.modifyRows(i.options.data)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,i){var r,n=[];if(i===t.ALL)r=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],l=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];r=o.concat(a,l)}return r.forEach(function(t,i){t.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&n.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),n},getData:function(e,r,n,o){var a,l,s=[];switch(r){case t.ALL:a=e.rows;break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():i.logError("selection feature must be enabled to allow selected rows to be exported")}if(n===t.ALL)l=e.columns;else{var d=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],u=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],c=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];l=d.concat(u,c)}return a.forEach(function(i,r){if(i.exporterEnableExporting!==!1){var a=[];l.forEach(function(r,l){if((r.visible||n===t.ALL)&&r.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(r.name)){var s=o?e.getCellDisplayValue(i,r):e.getCellValue(i,r),d={value:e.options.exporterFieldCallback(e,i,r,s)};r.colDef.exporterPdfAlign&&(d.alignment=r.colDef.exporterPdfAlign),a.push(d)}}),s.push(a)}}),s},formatAsCsv:function(e,t,i){var r=this,n=e.map(function(e){return{value:e.displayName}}),o=n.length>0?r.formatRowAsCsv(this,i)(n)+"\n":"";return o+=t.map(this.formatRowAsCsv(this,i)).join("\n")},formatRowAsCsv:function(e,t){return function(i){return i.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),t=!1;return-1!==e&&(t=!0),t},downloadFile:function(e,t,i,r,n){var o,a=document,l=a.createElement("a"),s="application/octet-stream;charset=utf-8",d=this.isIE();if(n&&(t="sep="+i+"\r\n"+t),navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([r?"\ufeff":"",t],{type:s}),e);if(d){var u=a.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write(t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(u),!0}if("download"in l){var c=new Blob([r?"\ufeff":"",t],{type:s});o=URL.createObjectURL(c),l.setAttribute("download",e)}else o="data:"+s+","+encodeURIComponent(t),l.setAttribute("target","_blank");l.href=o,l.setAttribute("style","display:none;"),a.body.appendChild(l),setTimeout(function(){if(l.click)l.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),l.dispatchEvent(e)}a.body.removeChild(l)},this.delay)},pdfExport:function(e,t,i){var r=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var n=r.getColumnHeaders(e,i),o=r.getData(e,t,i),a=r.prepareAsPdf(e,n,o);r.isIE()||-1!==navigator.appVersion.indexOf("Edge")?r.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){var i,r=document;r.createElement("a"),i=this.isIE();var n,o=pdfMake.createPdf(t);o.getBuffer(function(t){if(n=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if(i){var o=r.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(n),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,i){var r=this.calculatePdfHeaderWidths(e,t),n=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=i.map(this.formatRowAsPdf(this)),a=[n].concat(o),l={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(l.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(l.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(l.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(l=e.options.exporterPdfCustomFormatter(l)),l},calculatePdfHeaderWidths:function(e,t){var i=0;t.forEach(function(e){"number"==typeof e.width&&(i+=e.width)});var r=0;t.forEach(function(e){if("*"===e.width&&(r+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=i*t/100,r+=e.width}});var n=i+r;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/n})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,i,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,r,n){t.initializeGrid(n.grid),n.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,i,r,n,o,a,l,s){var d={initializeGrid:function(e,t){s.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},d.defaultGridOptions(e.options),e.registerRowsProcessor(d.groupRows,400),e.registerColumnBuilder(d.groupingColumnBuilder),e.registerColumnsProcessor(d.groupingColumnProcessor,400);var i={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var i=d.getGrouping(e);return i.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations=i.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(i.rowExpandedStates=d.getRowExpandedStates(e.grouping.groupingHeaderCache)),i},setGrouping:function(t){d.setGrouping(e,t)},groupColumn:function(t){var i=e.getColumn(t);d.groupColumn(e,i)},ungroupColumn:function(t){var i=e.getColumn(t);d.ungroupColumn(e,i)},clearGrouping:function(){d.clearGrouping(e)},aggregateColumn:function(t,i,r){var n=e.getColumn(t);d.aggregateColumn(e,n,i,r)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods),e.api.core.on.sortChanged(t,d.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=e.enableGrouping!==!1,e.groupingShowCounts=e.groupingShowCounts!==!1,e.groupingNullLabel="undefined"==typeof e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=e.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(e,r,n){if(e.enableGrouping!==!1){"undefined"==typeof r.grouping&&"undefined"!=typeof e.grouping?(r.grouping=angular.copy(e.grouping),"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>-1&&(r.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn,r.treeAggregationFinalizerFn=d.groupedFinalizerFn)):"undefined"==typeof r.grouping&&(r.grouping={}),"undefined"!=typeof r.grouping&&"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>=0&&(r.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){d.groupColumn(this.context.col.grid,this.context.col)}},l={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){d.ungroupColumn(this.context.col.grid,this.context.col)}},u={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){d.aggregateColumn(this.context.col.grid,this.context.col,null)}},c=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var n={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){d.aggregateColumn(this.context.col.grid,this.context.col,e)}};i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregate"+e)||r.menuItems.push(n)};r.colDef.groupingShowGroupingMenu!==!1&&(i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.group")||r.menuItems.push(o),i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.ungroup")||r.menuItems.push(l)),r.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(s.nativeAggregations(),function(e,t){c(t)}),angular.forEach(n.treeCustomAggregations,function(e,t){c(t,e.menuTitle)}),i.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregateRemove")||r.menuItems.push(u))}},groupingColumnProcessor:function(e,t){return e=d.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;"undefined"!=typeof e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&"object"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,i){return e.options.moveGroupColumns===!1?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var i,r;return i=e.isRowHeader?e.headerPriority:"undefined"==typeof e.grouping||"undefined"==typeof e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,r=t.isRowHeader?t.headerPriority:"undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==i&&null===r?-1:null!==r&&null===i?1:null!==i&&null!==r?i-r:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,i){"undefined"==typeof i.grouping&&(i.grouping={});var r=d.getGrouping(e);i.grouping.groupPriority=r.grouping.length,i.previousSort=angular.copy(i.sort),i.sort?("undefined"==typeof i.sort.direction||null===i.sort.direction)&&(i.sort.direction=l.ASC):i.sort={direction:l.ASC},i.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},i.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=d.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(i),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,t.previousSort&&(t.sort=t.previousSort,delete t.previousSort),d.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh())},aggregateColumn:function(e,t,i){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&d.ungroupColumn(e,t);var r={};"undefined"!=typeof e.options.treeCustomAggregations[i]?r=e.options.treeCustomAggregations[i]:"undefined"!=typeof s.nativeAggregations()[i]&&(r=s.nativeAggregations()[i]),t.treeAggregation={type:i,label:a.get().aggregation[r.label]||r.label},t.treeAggregationFn=r.aggregationFn,t.treeAggregationFinalizerFn=r.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){"undefined"!=typeof t&&(d.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var i=e.getColumn(t.colName);i&&d.groupColumn(e,i)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var i=e.getColumn(t.colName);i&&d.aggregateColumn(e,i,t.aggregation.type)}),t.rowExpandedStates&&d.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=d.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),d.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),d.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){"undefined"!=typeof e&&"undefined"==typeof e.grid||"undefined"==typeof this.grid||(e=this.grid);var t=[],i=[];e.columns.forEach(function(e,r){"undefined"!=typeof e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):"undefined"!=typeof e.sort&&"undefined"!=typeof e.sort.priority&&e.sort.priority>=0&&i.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,"undefined"==typeof e.sort&&(e.sort={}),e.sort.priority=t});var r=t.length;i.sort(function(e,t){return e.sort.priority-t.sort.priority}),i.forEach(function(e,t){e.sort.priority=r,e.suppressRemoveSort=e.colDef.suppressRemoveSort,r++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var i=d.initialiseProcessingState(t),n=function(n,l){var s=t.getCellValue(a,n.col);n.initialised&&0===r.getSortFn(t,n.col,e)(s,n.currentValue)||(d.insertGroupHeader(t,e,o,i,l),
o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&i.forEach(n)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[],i=d.getGrouping(e);return i.grouping.forEach(function(e,i){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],i=[];return e.columns.forEach(function(e,r){e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&i.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:i}},insertGroupHeader:function(e,t,i,r,a){var l=(r[a].fieldName,r[a].col),s=e.getCellValue(t[i],l),u=s;("undefined"==typeof s||null===s)&&(u=e.options.groupingNullLabel);for(var c=function(e){return angular.isObject(e)?JSON.stringify(e):e},g=e.grouping.oldGroupingHeaderCache,p=0;a>p;p++)g&&g[c(r[p].currentValue)]&&(g=g[c(r[p].currentValue)].children);var f;for(g&&g[c(s)]?(f=g[c(s)].row,f.entity={}):(f=new n({},null,e),o.rowTemplateAssigner.call(e,f)),f.entity["$$"+r[a].col.uid]={groupVal:u},f.treeLevel=a,f.groupHeader=!0,f.internalRow=!0,f.enableCellEdit=!1,f.enableSelection=e.options.enableGroupHeaderSelection,r[a].initialised=!0,r[a].currentValue=s,r[a].currentRow=f,d.finaliseProcessingState(r,a+1),t.splice(i,0,f),g=e.grouping.groupingHeaderCache,p=0;a>p;p++)g=g[c(r[p].currentValue)].children;g[c(s)]={row:f,children:{}}},finaliseProcessingState:function(e,t){for(var i=t;i<e.length;i++)e[i].initialised=!1,e[i].currentRow=null,e[i].currentValue=null},getRowExpandedStates:function(e){if("undefined"==typeof e)return{};var t={};return angular.forEach(e,function(e,i){t[i]={state:e.row.treeNode.state},e.children?t[i].children=d.getRowExpandedStates(e.children):t[i].children={}}),t},applyRowExpandedStates:function(e,t){"undefined"!=typeof t&&angular.forEach(t,function(t,i){e[i]&&(e[i].row.treeNode.state=t.state,t.children&&e[i].children&&d.applyRowExpandedStates(e[i].children,t.children))})}};return d}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){n.grid.options.enableGrouping!==!1&&t.initializeGrid(n.grid,e)},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,i,r,n,o,a,l){var s={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var i={events:{importer:{}},methods:{importer:{importFile:function(e){s.importThisFile(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?s.addToMenu(t):o(function(){t.api.core.addToGridMenu&&s.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?l.hasOwnProperty("File")&&l.hasOwnProperty("FileReader")&&l.hasOwnProperty("FileList")&&l.hasOwnProperty("Blob")?e.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||s.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return void r.logError("No file object provided to importThisFile, should be impossible, aborting");var i=new FileReader;switch(t.type){case"application/json":i.onload=s.importJsonClosure(e);break;default:i.onload=s.importCsvClosure(e)}i.readAsText(t)},importJsonClosure:function(e){return function(t){var i,r=[],n=s.parseJson(e,t);null!==n&&(n.forEach(function(t,n){i=s.newObject(e),angular.extend(i,t),i=e.options.importerObjectCallback(e,i),r.push(i)}),s.addObjects(e,r))}},parseJson:function(e,t){var i;try{i=JSON.parse(t.target.result)}catch(r){return void s.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(i)?i:(s.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var i=s.parseCsv(t);if(!i||i.length<1)return void s.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);var r=s.createCsvObjects(e,i);return r&&0!==r.length?void s.addObjects(e,r):void s.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var i=e.options.importerProcessHeaders(e,t.shift());if(!i||0===i.length)return s.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var r,n=[];return t.forEach(function(t,o){r=s.newObject(e),null!==t&&t.forEach(function(e,t){null!==i[t]&&(r[i[t]]=e)}),r=e.options.importerObjectCallback(e,r),n.push(r)}),n},processHeaders:function(e,t){var i=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var r=s.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){r[e]?i.push(r[e]):r[e.toLowerCase()]?i.push(r[e.toLowerCase()]):i.push(null)}),i}return t.forEach(function(e,t){i.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),i},flattenColumnDefs:function(e,t){var i={};return t.forEach(function(t,r){t.name&&(i[t.name]=t.field||t.name,i[t.name.toLowerCase()]=t.field||t.name),t.field&&(i[t.field]=t.field||t.name,i[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(i[t.displayName]=t.field||t.name,i[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(i[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,i[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),i},addObjects:function(e,i,r){if(e.api.rowEdit){var n=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(i),n()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",n)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,i))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,i,n){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,i,n):(l.alert(a.getSafeText(t)),r.logError(i+n))}};return s}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,i,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,r,n){t.initializeGrid(e,n.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,i,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,r,n,o){var a=function(e){var i=e.srcElement||e.target;if(i&&i.files&&1===i.files.length){var r=i.files[0];t.importThisFile(s,r),i.form.reset()}},l=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=o.grid;1!==l.length?i.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):l[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,i,r,n,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var i={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,i){a.setScrollDirections(e,t,i);var r=a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1});return r},resetScroll:function(t,i){a.setScrollDirections(e,t,i),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,i){a.dataRemovedTop(e,t,i)},dataRemovedBottom:function(t,i){a.dataRemovedBottom(e,t,i)},setScrollDirections:function(t,i){a.setScrollDirections(e,t,i)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=e.infiniteScrollUp===!0,e.infiniteScrollDown=e.infiniteScrollDown!==!1},setScrollDirections:function(e,t,i){e.infiniteScroll.scrollUp=t===!0,e.suppressParentScrollUp=t===!0,e.infiniteScroll.scrollDown=i!==!1,e.suppressParentScrollDown=i!==!1},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=r.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=r.scrollDirection.DOWN,a.loadData(e.grid);else{var t,i=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===r.scrollDirection.UP?(t=e.y.percentage,i>=t&&a.loadData(e.grid)):e.grid.scrollDirection===r.scrollDirection.DOWN&&(t=1-e.y.percentage,i>=t&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===r.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===r.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return i(function(){var n,o,l,s,d;n=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0),l=e.getVisibleRowCount();var u=o*l;e.infiniteScroll.scrollDown&&n>u&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===r.scrollDirection.UP&&(s=e.infiniteScroll.prevScrollTop||0,d=s+(l-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,d),i(function(){t.resolve()})),e.infiniteScroll.direction===r.scrollDirection.DOWN&&(d=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-n,a.adjustInfiniteScrollPosition(e,d),i(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var i=new n(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),r=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=e.options.rowHeight,l=r*a-o;0===t&&e.infiniteScroll.scrollUp?i.y={percentage:1/l}:i.y={percentage:t/l},e.scrollContainers("",i)},dataRemovedTop:function(e,t,i){var r,n,o,l;a.setScrollDirections(e,t,i),r=e.renderContainers.body.visibleRowCache.length,n=e.infiniteScroll.prevScrollTop,l=e.options.rowHeight,o=n-(e.infiniteScroll.previousVisibleRows-r)*l,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,i){var r;a.setScrollDirections(e,t,i),r=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,r)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,i,r){return{pre:function(t,i,r,n){e.initializeGrid(n.grid,t)},post:function(e,t,i){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,i,r,n,o){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(t.movableColumnBuilder),e.registerDataChangeCallback(t.verifyColumnOrder,[n.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,i={events:{colMovable:{columnPositionChanged:function(e,t,i){}}},methods:{colMovable:{moveColumn:function(i,r){var n=e.columns;if(!angular.isNumber(i)||!angular.isNumber(r))return void o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var a=0,l=0;l<n.length;l++)(angular.isDefined(n[l].colDef.visible)&&n[l].colDef.visible===!1||n[l].isRowHeader===!0)&&a++;if(i>=n.length-a||r>=n.length-a)return void o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var s=function(e){for(var t=e,i=0;t>=i;i++)angular.isDefined(n[i])&&(angular.isDefined(n[i].colDef.visible)&&n[i].colDef.visible===!1||n[i].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,s(i),s(r))}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,i,r){var n=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?r.enableColumnMoving:t.enableColumnMoving,e.all(n)},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,i=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(r,n){if(t=e.columns.indexOf(r),-1!==t&&t-i!==n){var o=e.columns.splice(t,1)[0];e.columns.splice(n+i,0,o)}})},redrawColumnAtPosition:function(e,i,r){var o=e.columns;if(i!==r){var l=r>i?i+1:i-1,s=Math.min(l,r);for(s;s<=Math.max(l,r)&&!o[s].visible;s++);if(!(s>Math.max(l,r))){var d=o[i];if(d.colDef.enableColumnMoving){if(i>r)for(var u=i;u>r;u--)o[u]=o[u-1];else if(r>i)for(var c=i;r>c;c++)o[c]=o[c+1];o[r]=d,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(n.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(d.colDef,i,r)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,i,r,n){e.initializeGrid(n.grid)},post:function(e,t,i,r){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,i,r,n,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,n,o){if(e.col.colDef.enableColumnMoving){var l,s,d,u,c,g,p=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),f=!1,m=!1,h=function(t){l=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(l+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),s=t.pageX||(t.originalEvent?t.originalEvent.pageX:0),d=0,u=l+e.grid.getViewportWidth(),"mousedown"===t.type?(r.on("mousemove",v),r.on("mouseup",C)):"touchstart"===t.type&&(r.on("touchmove",v),r.on("touchend",C))},v=function(e){var t=e.pageX||(e.originalEvent?e.originalEvent.pageX:0),i=t-s;0!==i&&(document.onselectstart=function(){return!1},m=!0,f?f&&(S(i),s=t):b())},C=function(t){if(document.onselectstart=null,c&&(c.remove(),f=!1),y(),w(),m){for(var r=e.grid.columns,n=0,o=0;o<r.length&&r[o].colDef.name!==e.col.colDef.name;o++)n++;var a;if(0>d){var l,s=0;if(e.grid.isRTL()){for(l=n+1;l<r.length;l++)if((angular.isUndefined(r[l].colDef.visible)||r[l].colDef.visible===!0)&&(s+=r[l].drawnWidth||r[l].width||r[l].colDef.width,s>Math.abs(d))){i.redrawColumnAtPosition(e.grid,n,l-1);break}}else for(l=n-1;l>=0;l--)if((angular.isUndefined(r[l].colDef.visible)||r[l].colDef.visible===!0)&&(s+=r[l].drawnWidth||r[l].width||r[l].colDef.width,s>Math.abs(d))){i.redrawColumnAtPosition(e.grid,n,l+1);break}s<Math.abs(d)&&(a=0,e.grid.isRTL()&&(a=r.length-1),i.redrawColumnAtPosition(e.grid,n,a))}else if(d>0){var u,g=0;if(e.grid.isRTL()){for(u=n-1;u>0;u--)if((angular.isUndefined(r[u].colDef.visible)||r[u].colDef.visible===!0)&&(g+=r[u].drawnWidth||r[u].width||r[u].colDef.width,g>d)){i.redrawColumnAtPosition(e.grid,n,u);break}}else for(u=n+1;u<r.length;u++)if((angular.isUndefined(r[u].colDef.visible)||r[u].colDef.visible===!0)&&(g+=r[u].drawnWidth||r[u].width||r[u].colDef.width,g>d)){i.redrawColumnAtPosition(e.grid,n,u-1);break}d>g&&(a=r.length-1,e.grid.isRTL()&&(a=0),i.redrawColumnAtPosition(e.grid,n,a))}}},w=function(){p.on("touchstart",h),p.on("mousedown",h)},y=function(){p.off("touchstart",h),p.off("mousedown",h),r.off("mousemove",v),r.off("touchmove",v),r.off("mouseup",C),r.off("touchend",C)};w();var b=function(){f=!0,c=t.clone(),t.parent().append(c),c.addClass("movingColumn");var i={};i.left=t[0].offsetLeft+"px";var r=e.grid.element[0].getBoundingClientRect().right,n=t[0].getBoundingClientRect().right;n>r&&(g=e.col.drawnWidth+(r-n),i.width=g+"px"),c.css(i)},S=function(t){for(var i=e.grid.columns,r=0,n=0;n<i.length;n++)(angular.isUndefined(i[n].colDef.visible)||i[n].colDef.visible===!0)&&(r+=i[n].drawnWidth||i[n].width||i[n].colDef.width);var s,p=c[0].getBoundingClientRect().left-1,f=c[0].getBoundingClientRect().right;if(s=p-l+t,s=u>s?s:u,(p>=l||t>0)&&(u>=f||0>t))c.css({visibility:"visible",left:c[0].offsetLeft+(u>s?t:u-p)+"px"});else if(r>Math.ceil(o.grid.gridWidth)){t*=8;var m=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");m.x={pixels:t},m.grid.scrollContainers("",m)}for(var h=0,v=0;v<i.length;v++)if(angular.isUndefined(i[v].colDef.visible)||i[v].colDef.visible===!0){if(i[v].colDef.name===e.col.colDef.name)break;h+=i[v].drawnWidth||i[v].width||i[v].colDef.width}void 0===e.newScrollLeft?d+=t:d=e.newScrollLeft+s-h,g<e.col.drawnWidth&&(g+=Math.abs(t),c.css({width:g+"px"}))};e.$on("$destroy",y)}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var i={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getFirstRowIndex:function(){return e.options.useCustomPagination?e.options.paginationPageSizes.reduce(function(t,i,r){return r<e.options.paginationCurrentPage-1?t+i:t},0):(e.options.paginationCurrentPage-1)*e.options.paginationPageSize},getLastRowIndex:function(){return e.options.useCustomPagination?i.methods.pagination.getFirstRowIndex()+e.options.paginationPageSizes[e.options.paginationCurrentPage-1]-1:Math.min(e.options.paginationCurrentPage*e.options.paginationPageSize,e.options.totalItems)-1},getTotalPages:function(){return e.options.enablePagination?e.options.useCustomPagination?e.options.paginationPageSizes.length:0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,i.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,i.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods);var r=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var r=parseInt(e.options.paginationPageSize,10),n=parseInt(e.options.paginationCurrentPage,10),o=t.filter(function(e){return e.visible});e.options.totalItems=o.length;var a=i.methods.pagination.getFirstRowIndex(),l=i.methods.pagination.getLastRowIndex();return a>o.length&&(n=e.options.paginationCurrentPage=1,a=(n-1)*r),o.slice(a,l+1)};e.registerRowsProcessor(r,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,t.useCustomPagination=t.useCustomPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSizes.length>0?t.paginationPageSize=t.paginationPageSizes[0]:t.paginationPageSize=0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,i){e.api.pagination.raise.paginationChanged(t,i),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(i,r,n,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);r.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,i,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(n,o,a,l){var s=".ui-grid-pager-control-input";n.aria=r.getSafeText("pagination.aria"),n.paginationApi=l.grid.api.pagination,n.sizesLabel=r.getSafeText("pagination.sizes"),n.totalItemsLabel=r.getSafeText("pagination.totalItems"),n.paginationOf=r.getSafeText("pagination.of"),n.paginationThrough=r.getSafeText("pagination.through");var d=l.grid.options;l.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-i.elementHeight(o,"padding"),e});var u=l.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);n.$on("$destroy",u);var c=n.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,i){return t!==i&&void 0!==i?!angular.isNumber(d.paginationCurrentPage)||d.paginationCurrentPage<1?void(d.paginationCurrentPage=1):d.totalItems>0&&d.paginationCurrentPage>n.paginationApi.getTotalPages()?void(d.paginationCurrentPage=n.paginationApi.getTotalPages()):void e.onPaginationChanged(n.grid,d.paginationCurrentPage,d.paginationPageSize):void 0});n.$on("$destroy",function(){c()}),n.cantPageForward=function(){return n.paginationApi.getTotalPages()?n.cantPageToLast():d.data.length<1},n.cantPageToLast=function(){var e=n.paginationApi.getTotalPages();return!e||d.paginationCurrentPage>=e},n.cantPageBackward=function(){return d.paginationCurrentPage<=1};var g=function(e){e&&i.focus.bySelector(o,s)};n.pageFirstPageClick=function(){n.paginationApi.seek(1),g(n.cantPageBackward())},n.pagePreviousPageClick=function(){n.paginationApi.previousPage(),g(n.cantPageBackward())},n.pageNextPageClick=function(){n.paginationApi.nextPage(),g(n.cantPageForward())},n.pageLastPageClick=function(){n.paginationApi.seek(n.paginationApi.getTotalPages()),g(n.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,i,r){var n={initializeGrid:function(e){n.defaultGridOptions(e.options),e.registerColumnBuilder(n.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,i){n.pinColumn(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var l={name:"ui.grid.pinning.pinLeft",title:i.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){n.pinColumn(this.context.col.grid,this.context.col,r.container.LEFT)}},s={name:"ui.grid.pinning.pinRight",title:i.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){n.pinColumn(this.context.col.grid,this.context.col,r.container.RIGHT)}},d={name:"ui.grid.pinning.unpin",title:i.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){n.pinColumn(this.context.col.grid,this.context.col,r.container.NONE)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(d)}},pinColumn:function(e,t,i){i===r.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=i,i===r.container.LEFT?e.createLeftContainer():i===r.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,i)})}};return n}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){t.initializeGrid(n.grid)},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,i){var r={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,i,r){var n=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?r.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(n)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(e,t){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,r,n){i(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(r,n):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,i){var r=e.getRenderContainer();if("left"===t){var n=r.visibleColumnCache.indexOf(e);return r.visibleColumnCache[n-1*i]}return e}};return r}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){t.defaultGridOptions(n.grid.options),n.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(n.grid)},post:function(e,t,i,r){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,i,r,n,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,l,s){var d=s.grid;if(d.options.enableColumnResizing){var u=t.get("ui-grid/columnResizer"),c=1;d.isRTL()&&(e.position="left",c=-1);var g=function(){for(var t=r[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=n.findTargetCol(e.col,"left",c),l=e.col.getRenderContainer();if(a&&0!==l.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var s=angular.element(u).clone();s.attr("position","left"),r.prepend(s),i(s)(e)}if(e.col.colDef.enableColumnResizing!==!1){var d=angular.element(u).clone();d.attr("position","right"),r.append(d),i(d)(e)}};g();var p=function(){a(g)},f=d.registerDataChangeCallback(p,[o.dataChange.COLUMN]);e.$on("$destroy",f)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,i,r){var n=angular.element('<div class="ui-grid-resize-overlay"></div>'),o={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,l,s){function d(e){s.grid.refreshCanvas(!0).then(function(){s.grid.queueGridRefresh()})}function u(e,t){var i=t;return e.minWidth&&i<e.minWidth?i=e.minWidth:e.maxWidth&&i>e.maxWidth&&(i=e.maxWidth),i}function c(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),f=(e.targetTouches?e.targetTouches[0]:e).clientX-m,0>f?f=0:f>s.grid.gridWidth&&(f=s.grid.gridWidth);var a=r.findTargetCol(o.col,o.position,h);if(a.colDef.enableColumnResizing!==!1){s.grid.element.hasClass("column-resizing")||s.grid.element.addClass("column-resizing");var l=f-p,d=parseInt(a.drawnWidth+l*h,10);f+=(u(a,d)-d)*h,n.css({left:f+"px"}),s.fireEvent(i.events.ITEM_DRAGGING)}}function g(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),s.grid.element.removeClass("column-resizing"),n.remove(),f=(e.changedTouches?e.changedTouches[0]:e).clientX-m;var i=f-p;if(0===i)return w(),void C();var a=r.findTargetCol(o.col,o.position,h);if(a.colDef.enableColumnResizing!==!1){var l=parseInt(a.drawnWidth+i*h,10);a.width=u(a,l),a.hasCustomWidth=!0,d(i),r.fireColumnSizeChanged(s.grid,a.colDef,i),w(),C()}}var p=0,f=0,m=0,h=1;s.grid.isRTL()&&(o.position="left",h=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(t,i){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),m=s.grid.element[0].getBoundingClientRect().left,p=(t.targetTouches?t.targetTouches[0]:t).clientX-m,s.grid.element.append(n),n.css({left:p}),"touchstart"===t.type?(e.on("touchend",g),e.on("touchmove",c),a.off("mousedown",v)):(e.on("mouseup",g),e.on("mousemove",c),a.off("touchstart",v))},C=function(){a.on("mousedown",v),a.on("touchstart",v)},w=function(){e.off("mouseup",g),e.off("touchend",g),e.off("mousemove",c),e.off("touchmove",c),a.off("mousedown",v),a.off("touchstart",v)};C();var y=function(e,n){e.stopPropagation();var l=r.findTargetCol(o.col,o.position,h);if(l.colDef.enableColumnResizing!==!1){var c=0,g=0,p=t.closestElm(a,".ui-grid-render-container"),f=p.querySelectorAll("."+i.COL_CLASS_PREFIX+l.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(f,function(e){var i;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),
t.fakeElement(e,{},function(e){var r=angular.element(e);r.attr("style","float: left");var n=t.elementWidth(r);if(i){var o=t.elementWidth(i);n+=o}n>c&&(c=n,g=c-n)})}),l.width=u(l,c),l.hasCustomWidth=!0,d(g),r.fireColumnSizeChanged(s.grid,l.colDef,g)}};a.on("dblclick",y),a.on("$destroy",function(){a.off("dblclick",y),w()})}};return o}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,i,r,n){var o={initializeGrid:function(e,t){t.rowEdit={};var i={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,i){o.setSavePromise(t,e,i)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.api.core.on.renderingComplete(e,function(i){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var i=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var r=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(i.processSuccessPromise(e,t),i.processErrorPromise(e,t)):n.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(e,t,i){var r=e.getRow(t);r.rowEditSavePromise=i},processSuccessPromise:function(e,t){var i=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,i.removeRow(e.rowEdit.errorRows,t),i.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){"undefined"!=typeof e&&null!==e&&e.forEach(function(i,r){i.uid===t.uid&&e.splice(r,1)})},isRowPresent:function(e,t){var i=!1;return e.forEach(function(e,r){e.uid===t.uid&&(i=!0)}),i},flushDirtyRows:function(e){var i=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.cancelTimer(e,t),o.saveRow(e,t)(),i.push(t.rowEditSavePromise)}),t.all(i)},endEditCell:function(e,t,i,r){var a=this.grid,l=a.getRow(e);return l?void((i!==r||l.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),l.isDirty||(l.isDirty=!0,a.rowEdit.dirtyRows.push(l)),delete l.isError,o.considerSetTimer(a,l))):void n.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var i=this.grid,r=i.getRow(e);return r?void o.cancelTimer(i,r):void n.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var i=this.grid,r=i.getRow(e);return r?void o.considerSetTimer(i,r):void n.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var i=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(i,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(i,t.row)},considerSetTimer:function(t,i){if(o.cancelTimer(t,i),i.isDirty&&!i.isSaving&&-1!==t.options.rowEditWaitInterval){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;i.rowEditSaveTimer=e(o.saveRow(t,i),r,1)}},cancelTimer:function(t,i){i.rowEditSaveTimer&&!i.isSaving&&(e.cancel(i.rowEditSaveTimer),delete i.rowEditSaveTimer)},setRowsDirty:function(e,t){var i;t.forEach(function(t,r){i=e.getRow(t),i?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),i.isDirty||(i.isDirty=!0,e.rowEdit.dirtyRows.push(i)),delete i.isError,o.considerSetTimer(e,i)):n.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var i;t.forEach(function(t,r){i=e.getRow(t),i?(delete i.isDirty,o.removeRow(e.rowEdit.dirtyRows,i),o.cancelTimer(e,i),delete i.isError,o.removeRow(e.rowEdit.errorRows,i)):n.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){t.initializeGrid(e,n.grid)},post:function(e,t,i,r){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,i,r){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),r=i.attr("ng-class"),n="";return n=r?r.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",i.attr("ng-class",n),{pre:function(e,t,i,r){},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,i,r,n,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,i){return a.restore(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1,e.saveGrouping=e.saveGrouping!==!1,e.saveGroupingExpandedStates=e.saveGroupingExpandedStates===!0,e.savePinning=e.savePinning!==!1,e.saveTreeView=e.saveTreeView!==!1},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,i){return i.columns&&a.restoreColumns(e,i.columns),i.scrollFocus&&a.restoreScrollFocus(e,t,i.scrollFocus),i.selection&&a.restoreSelection(e,i.selection),i.grouping&&a.restoreGrouping(e,i.grouping),i.treeView&&a.restoreTreeView(e,i.treeView),i.pagination&&a.restorePagination(e,i.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(i){var r={};r.name=i.name,e.options.saveVisible&&(r.visible=i.visible),e.options.saveWidths&&(r.width=i.width),e.options.saveSort&&(r.sort=angular.copy(i.sort)),e.options.saveFilter&&(r.filters=[],i.filters.forEach(function(e){var t={};angular.forEach(e,function(e,i){"condition"!==i&&"$$hashKey"!==i&&"placeholder"!==i&&(t[i]=e)}),r.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(r.pinned=i.renderContainer?i.renderContainer:""),t.push(r)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var i=e.api.cellNav.getFocusedCell();null!==i&&(null!==i.col&&(t.colName=i.col.colDef.name),null!==i.row&&(t.rowVal=a.getRowVal(e,i.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){if(!e.api.selection||!e.options.saveSelection)return[];var t=e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)});return t},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var i={};return e.options.saveRowIdentity?(i.identity=!0,i.row=e.options.saveRowIdentity(t.entity)):(i.identity=!1,i.row=e.renderContainers.body.visibleRowCache.indexOf(t)),i},restoreColumns:function(e,t){var i=!1;t.forEach(function(t,r){var n=e.getColumn(t.name);if(n&&!e.isRowHeaderColumn(n)){!e.options.saveVisible||n.visible===t.visible&&n.colDef.visible===t.visible||(n.visible=t.visible,n.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(n)),e.options.saveWidths&&n.width!==t.width&&(n.width=t.width,n.hasCustomWidth=!0),!e.options.saveSort||angular.equals(n.sort,t.sort)||void 0===n.sort&&angular.isEmpty(t.sort)||(n.sort=angular.copy(t.sort),i=!0),e.options.saveFilter&&!angular.equals(n.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(n.filters[t],e),("undefined"==typeof e.term||null===e.term)&&delete n.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&n.renderContainer!==t.pinned&&e.api.pinning.pinColumn(n,t.pinned);var o=e.getOnlyDataColumns().indexOf(n);if(-1!==o&&e.options.saveOrder&&o!==r){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(r+e.rowHeaderColumns.length,0,a)}}}),i&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,i){if(e.api.cellNav){var r,n;if(i.colName){var o=e.options.columnDefs.filter(function(e){return e.name===i.colName});o.length>0&&(r=o[0])}i.rowVal&&i.rowVal.row&&(n=i.rowVal.identity?a.findRowByIdentity(e,i.rowVal):e.renderContainers.body.visibleRowCache[i.rowVal.row]);var l=n&&n.entity?n.entity:null;(r||l)&&(i.focus?e.api.cellNav.scrollToFocus(l,r):e.scrollTo(l,r))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var i=a.findRowByIdentity(e,t);i&&e.api.selection.selectRow(i.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var i=e.rows.filter(function(i){return e.options.saveRowIdentity(i.entity)===t.row});return i.length>0?i[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,i,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,r,n){t.initializeGrid(n.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){e!==this.isSelected&&(this.isSelected=e,this.grid.selection.selectedCount+=e?1:-1)},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,i,r){var n={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,n.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,i){},rowSelectionChangedBatch:function(e,t,i){}}},methods:{selection:{toggleRowSelection:function(t,i){var r=e.getRow(t);null!==r&&n.toggleRowSelection(e,r,i,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,i){var r=e.getRow(t);null===r||r.isSelected||n.toggleRowSelection(e,r,i,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,i){var r=e.renderContainers.body.visibleRowCache[t];null===r||"undefined"==typeof r||r.isSelected||n.toggleRowSelection(e,r,i,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,i){var r=e.getRow(t);null!==r&&r.isSelected&&n.toggleRowSelection(e,r,i,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(e.options.multiSelect!==!1){var i=[];e.rows.forEach(function(r){r.isSelected||r.enableSelection===!1||(r.setSelected(!0),n.decideRaiseSelectionEvent(e,r,i,t))}),n.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(e.options.multiSelect!==!1){var i=[];e.rows.forEach(function(r){r.visible?r.isSelected||r.enableSelection===!1||(r.setSelected(!0),n.decideRaiseSelectionEvent(e,r,i,t)):r.isSelected&&(r.setSelected(!1),n.decideRaiseSelectionEvent(e,r,i,t))}),n.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){n.clearSelectedRows(e,t)},getSelectedRows:function(){return n.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return n.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,"undefined"==typeof e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,i,r,o){var a=t.isSelected;if(t.enableSelection!==!1||a){var l;r||a?!r&&a&&(l=n.getSelectedRows(e),l.length>1&&(a=!1,n.clearSelectedRows(e,i))):n.clearSelectedRows(e,i),a&&o||(t.setSelected(!a),t.isSelected===!0&&(e.selection.lastSelectedRow=t),l=n.getSelectedRows(e),e.selection.selectAll=e.rows.length===l.length,e.api.selection.raise.rowSelectionChanged(t,i))}},shiftSelect:function(e,t,i,r){if(r){var o=n.getSelectedRows(e),a=o.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,l=e.renderContainers.body.visibleRowCache.indexOf(t);if(a>l){var s=a;a=l,l=s}for(var d=[],u=a;l>=u;u++){var c=e.renderContainers.body.visibleRowCache[u];c&&(c.isSelected||c.enableSelection===!1||(c.setSelected(!0),e.selection.lastSelectedRow=c,n.decideRaiseSelectionEvent(e,c,d,i)))}n.decideRaiseSelectionBatchEvent(e,d,i)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var i=[];n.getSelectedRows(e).forEach(function(r){r.isSelected&&(r.setSelected(!1),n.decideRaiseSelectionEvent(e,r,i,t))}),n.decideRaiseSelectionBatchEvent(e,i,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,i,r){e.options.enableSelectionBatchEvent?i.push(t):e.api.selection.raise.rowSelectionChanged(t,r)},decideRaiseSelectionBatchEvent:function(e,t,i){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,i)}};return n}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,i,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,n,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var l={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(l,0)}var s=!1,d=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},u=function(){a.grid.options.isRowSelectable!==angular.noop&&s!==!0&&(a.grid.registerRowsProcessor(d,500),s=!0)};u();var c=a.grid.registerDataChangeCallback(u,[r.dataChange.OPTIONS]);i.$on("$destroy",c)},post:function(e,t,i,r){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,r,n,o){function a(e,i){if(i.stopPropagation(),i.shiftKey)t.shiftSelect(s,e,i,s.options.multiSelect);else if(i.ctrlKey||i.metaKey)t.toggleRowSelection(s,e,i,s.options.multiSelect,s.options.noUnselect);else if(e.groupHeader)for(var r=0;r<e.treeNode.children.length;r++)t.toggleRowSelection(s,e.treeNode.children[r].row,i,s.options.multiSelect,s.options.noUnselect);else t.toggleRowSelection(s,e,i,s.options.multiSelect&&!s.options.modifierKeysToMultiSelect,s.options.noUnselect)}function l(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var s=o.grid;e.selectButtonClick=a,"ie"===i.detectBrowser()&&r.on("mousedown",l),e.$on("$destroy",function(){r.off()})}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,i,r,n){var o=e.col.grid;e.headerButtonClick=function(e,i){o.selection.selectAll?(t.clearSelectedRows(o,i),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,i),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(i),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,i,r,n,o){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),r=i.attr("ng-class"),n="";return n=r?r.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",i.attr("ng-class",n),{pre:function(e,t,i,r){},post:function(e,t,i,r){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,i,r,n,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,i,r,n){function l(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(i.addClass("ui-grid-disable-selection"),i.on("touchstart",g),i.on("touchend",p),i.on("click",c),e.registered=!0)}function s(){e.registered&&(i.removeClass("ui-grid-disable-selection"),i.off("touchstart",g),i.off("touchend",p),i.off("click",c),e.registered=!1)}var d=0,u=300;n.grid.api.cellNav&&n.grid.api.cellNav.on.viewPortKeyDown(e,function(t,i){null!==i&&i.row===e.row&&i.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var c=function(t){"ui-grid-icon-minus-squared"!==t.target.className&&"ui-grid-icon-plus-squared"!==t.target.className&&(i.off("touchend",p),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){i.on("touchend",p)},u))},g=function(e){d=(new Date).getTime(),i.off("click",c)},p=function(e){var t=(new Date).getTime(),r=t-d;u>r&&c(e),a(function(){i.on("click",c)},u)};l();var f=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?l():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||s()},[t.dataChange.OPTIONS]);i.on("$destroy",f)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,i){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,r){return{pre:function(t,r,n,o){o.grid.options.showGridFooter&&i.getTemplate("ui-grid/gridFooterSelectedItems").then(function(i){var n=angular.element(i),o=e(n)(t);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,i,r,n,o,a,l){var s={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],s.defaultGridOptions(e.options),e.registerRowsProcessor(s.treeRows,410),e.registerColumnBuilder(s.treeBaseColumnBuilder),s.createRowHeader(e);var i={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){s.expandAllRows(e)},collapseAllRows:function(){s.collapseAllRows(e)},toggleRowTreeState:function(t){s.toggleRowTreeState(e,t)},expandRow:function(t){s.expandRow(e,t)},expandRowChildren:function(t){s.expandRowChildren(e,t)},collapseRow:function(t){s.collapseRow(e,t)},collapseRowChildren:function(t){s.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:s.getTreeState(e)}},setTreeState:function(t){s.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=e.showTreeRowHeader!==!1,e.showTreeExpandNoChildren=e.showTreeExpandNoChildren!==!1,e.treeRowHeaderAlwaysVisible=e.treeRowHeaderAlwaysVisible!==!1,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=e.enableExpandAll!==!1},treeBaseColumnBuilder:function(e,t,i){"undefined"!=typeof e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),"undefined"!=typeof e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},"undefined"!=typeof i.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=i.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=i.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=i.treeCustomAggregations[e.treeAggregationType].label):"undefined"!=typeof s.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=s.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=s.nativeAggregations()[e.treeAggregationType].label)),"undefined"!=typeof e.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=e.treeAggregationUpdateEntity!==!1,"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var i={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};i.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(i,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(i){s.setAllNodes(e,i,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(i){s.setAllNodes(e,i,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,i,r){"undefined"!=typeof i.state&&i.state!==r&&(i.state=r,r===t.EXPANDED?e.api.treeBase.raise.rowExpanded(i.row):e.api.treeBase.raise.rowCollapsed(i.row)),i.children&&i.children.forEach(function(t){s.setAllNodes(e,t,r)})},toggleRowTreeState:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(i.treeNode.state===t.EXPANDED?s.collapseRow(e,i):s.expandRow(e,i),e.queueGridRefresh())},expandRow:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.EXPANDED&&(i.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(i),e.treeBase.expandAll=s.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(s.setAllNodes(e,i.treeNode,t.EXPANDED),e.treeBase.expandAll=s.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.COLLAPSED&&(i.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(i),e.queueGridRefresh())},collapseRowChildren:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(s.setAllNodes(e,i.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){s.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var i=!0;return e.children.forEach(function(e){s.allExpandedInternal(e)||(i=!1)}),i}return!0},treeRows:function(e){if(0===e.length)return e;var i=this;return t.EXPANDED,i.treeBase.tree=s.createTree(i,e),s.updateRowHeaderWidth(i),s.sortTree(i),s.fixFilter(i),s.renderTree(i.treeBase.tree)},updateRowHeaderWidth:function(e){var i=e.getColumn(t.rowHeaderColName),r=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);i&&r!==i.width&&(i.width=r,e.queueRefresh());var n=!0;e.options.showTreeRowHeader===!1&&(n=!1),e.options.treeRowHeaderAlwaysVisible===!1&&e.treeBase.numberLevels<=0&&(n=!1),i&&i.visible!==n&&(i.visible=n,i.colDef.visible=n,e.queueGridRefresh())},renderTree:function(e){var i=[];return e.forEach(function(e){e.row.visible&&i.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(i=i.concat(s.renderTree(e.children)))}),i},createTree:function(e,i){var r,n=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=s.getAggregations(e),l=function(i){if("undefined"!=typeof i.entity.$$treeLevel&&i.treeLevel!==i.entity.$$treeLevel&&(i.treeLevel=i.entity.$$treeLevel),i.treeLevel<=n){for(;i.treeLevel<=n;){var l=o.pop();s.finaliseAggregations(l),n--}r=o.length>0?s.setCurrentState(o):t.EXPANDED}("undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0)&&i.visible&&s.aggregate(e,i,o),s.addOrUseNode(e,i,o,a),"undefined"!=typeof i.treeLevel&&null!==i.treeLevel&&i.treeLevel>=0&&(o.push(i),n++,r=s.setCurrentState(o)),e.treeBase.numberLevels<i.treeLevel+1&&(e.treeBase.numberLevels=i.treeLevel+1)};for(i.forEach(l);o.length>0;){var d=o.pop();s.finaliseAggregations(d)}return e.treeBase.tree},addOrUseNode:function(e,i,r,n){var o=[];n.forEach(function(e){o.push(s.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:i,parentRow:null,aggregations:o,children:[]};i.treeNode&&(a.state=i.treeNode.state),r.length>0&&(a.parentRow=r[r.length-1]),i.treeNode=a,0===r.length?e.treeBase.tree.push(a):r[r.length-1].treeNode.children.push(a)},setCurrentState:function(e){var i=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(i=t.COLLAPSED)}),i},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=s.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,i){var r=i.map(function(e){return e.row});r=l.sort(e,r,e.columns);var n=r.map(function(e){return e.treeNode});return n.forEach(function(i){i.state===t.EXPANDED&&i.children&&i.children.length>0&&(i.children=s.sortInternal(e,i.children))}),n},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,s.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(s.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&s.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(i){"undefined"!=typeof i.treeAggregationFn&&(t.push(s.buildAggregationObject(i)),e.options.showColumnFooter&&"undefined"==typeof i.colDef.aggregationType&&i.treeAggregation&&(i.treeFooterAggregation=s.buildAggregationObject(i),i.aggregationType=s.treeFooterAggregationType))}),t},aggregate:function(e,t,i){0===i.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(i){if("undefined"!=typeof i.col.treeFooterAggregation){var r=e.getCellValue(t,i.col),n=Number(r);i.col.treeAggregationFn(i.col.treeFooterAggregation,r,n,t)}}),i.forEach(function(i,r){i.treeNode.aggregations&&i.treeNode.aggregations.forEach(function(i){var n=e.getCellValue(t,i.col),o=Number(n);i.col.treeAggregationFn(i,n,o,t),0===r&&"undefined"!=typeof i.col.treeFooterAggregation&&i.col.treeAggregationFn(i.col.treeFooterAggregation,n,o,t)})})},nativeAggregations:function(){var e={count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,i){"undefined"==typeof e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,i){isNaN(i)||("undefined"==typeof e.value?e.value=i:e.value+=i)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,i){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,i){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,i){"undefined"==typeof e.count?e.count=1:e.count++,isNaN(i)||("undefined"==typeof e.value||"undefined"==typeof e.sum?(e.value=i,
e.sum=i):(e.sum+=i,e.value=e.sum/e.count))}}};return e},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&"undefined"!=typeof e&&"undefined"!=typeof e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&"undefined"!=typeof e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(s.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var i={};angular.forEach(t,function(e,r){t.hasOwnProperty(r)&&"col"!==r&&(i[r]=e)}),e.entity["$$"+t.col.uid]=i}})},treeFooterAggregationType:function(e,t){return s.finaliseAggregation(void 0,t.treeFooterAggregation),"undefined"==typeof t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return s}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,r,n){var o=n.grid;e.treeButtonClick=function(e,i){t.toggleRowTreeState(o,e,i)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,i,r,n){var o=e.col.grid;e.headerButtonClick=function(e,i){o.treeBase.expandAll?t.collapseAllRows(o,i):t.expandAllRows(o,i)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,i,r){return{priority:-200,scope:!1,compile:function(e,t){var i=angular.element(e.children().children()[0]),r=i.attr("ng-class"),n="";return n=r?r.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",i.attr("ng-class",n),{pre:function(e,t,i,r){},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,i,r,n,o,a,l,s){var d={initializeGrid:function(e,t){r.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(d.adjustSorting,60);var i={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableTreeView=e.enableTreeView!==!1},adjustSorting:function(e){var t=this;return t.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return d}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){n.grid.options.enableTreeView!==!1&&t.initializeGrid(n.grid,e)},post:function(e,t,i,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,i,r,n){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,i){o.validatorFactories[e]={validatorFactory:t,messageFunction:i}},getValidator:function(e,t){if(o.externalFactoryFunction){var i=o.getValidatorFromExternalFactory(e,t);if(i)return i}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var i=o.getMessageFromExternalFactory(e,t);if(i)return i}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,i){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][i]=!0},clearError:function(e,t,i){e["$$errors"+t.name]&&i in e["$$errors"+t.name]&&delete e["$$errors"+t.name][i]},getErrorMessages:function(e,t){var i=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){i.push(o.getMessage(e,t.validators[e]))}),i):i},getFormattedErrors:function(t,i){var n="",a=o.getErrorMessages(t,i);return a.length?(a.forEach(function(e){n+=e+"<br/>"}),e.trustAsHtml("<p><b>"+r.getSafeText("validate.error")+"</b></p>"+n)):void 0},getTitleFormattedErrors:function(t,i){var n="\n",a="",l=o.getErrorMessages(t,i);return l.length?(l.forEach(function(e){a+=e+n}),e.trustAsHtml(r.getSafeText("validate.error")+n+a)):void 0},runValidators:function(e,i,r,n,a){if(r!==n){if("undefined"==typeof i.name||!i.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,i);var l=function(e,t,i){return function(l){l||(o.setInvalid(e,t),o.setError(e,t,i),a&&a.api.validate.raise.validationFailed(e,t,r,n))}},s=[];for(var d in i.validators){o.clearError(e,i,d);var u=o.getValidator(d,i.validators[d]),c=t.when(u(n,r,e,i)).then(l(e,i,d));s.push(c)}return t.all(s)}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,i,r,n){return void 0===i||null===i||""===i||i.length>=e}},function(e){return r.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,i,r,n){return void 0===i||null===i||""===i||i.length<=e}},function(e){return r.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,i,r,n){return!e||!(void 0===i||null===i||""===i)}},function(e){return r.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var i={events:{validate:{validationFailed:function(e,t,i,r){}}},methods:{validate:{isInvalid:function(e,i){return t.validate.isInvalid(e,i)},getErrorMessages:function(e,i){return t.validate.getErrorMessages(e,i)},getFormattedErrors:function(e,i){return t.validate.getFormattedErrors(e,i)},getTitleFormattedErrors:function(e,i){return t.validate.getTitleFormattedErrors(e,i)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,i,r,n){t.validate.runValidators(e,i,r,n,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,r,n){t.initializeGrid(e,n.grid)},post:function(e,t,i,r){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-style="col.extraStyle" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-show="colFilter.selectOptions.length > 0" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ label() }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><!-- All of these dom elements are replaced in place --><div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/emptyBaseLayerContainer",'<div class="ui-grid-empty-base-layer-container ui-grid-canvas"><div class="ui-grid-row" ng-repeat="(rowRenderIndex, row) in grid.baseLayer.emptyRows track by $index" ng-style="Viewport.rowStyle(rowRenderIndex)"><div><div><div ng-repeat="(colRenderIndex, col) in colContainer.renderedColumns track by col.colDef.name" class="ui-grid-cell {{ col.getColClass(false) }}"></div></div></div></div></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!(row.groupHeader==true || row.entity.subGridOptions.disableRowExpandable)" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1 && !grid.options.useCustomPagination"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{ 1 + paginationApi.getFirstRowIndex() }} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{ 1 + paginationApi.getLastRowIndex() }} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}])},{}],2:[function(e,t,i){"use strict";e("angular-ui-grid/ui-grid.min.js"),e("./formio-grid")},{"./formio-grid":3,"angular-ui-grid/ui-grid.min.js":1}],3:[function(e,t,i){"use strict";angular.module("ngFormioGrid",["formio","ngSanitize","ui.grid","ui.grid.pagination","ui.grid.resizeColumns","ui.grid.autoResize","ui.grid.selection","ui.grid.edit","ui.grid.cellNav"]).directive("formioGridCell",["$compile","formioTableView",function(e,t){return{restrict:"E",scope:{data:"=",component:"="},link:function(e,i){e.$watch("data",function(r){var n=t(r,e.component);Array.isArray(n)&&(n=n.join(", ")),i.html(n)})}}}]).directive("formioGrid",["$compile",function(e){return{restrict:"E",replace:!0,scope:{src:"=",query:"=?",aggregate:"=?",columns:"=?",buttons:"=?",gridOptions:"=?",gridApi:"=?"},link:function(t,i,r){var n='<div ui-grid="gridOptionsDef" ui-grid-pagination ui-grid-auto-resize ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class="grid"></div>';t.gridOptions&&t.gridOptions.enableCellEdit&&(n='<div ui-grid="gridOptionsDef" ui-grid-pagination ui-grid-auto-resize ui-grid-resize-columns ui-grid-move-columns ui-grid-edit ui-grid-cellNav class="grid"></div>'),i.html(n).show(),e(i.contents())(t)},template:"<div></div>",controller:["$scope","$element","$timeout","Formio","formioComponents","FormioUtils","uiGridConstants","$http","$q",function(e,t,i,r,n,o,a,l,s){var d=s.defer(),u=d.promise,c=null,g={pageNumber:1,pageSize:25,sort:null};e.query&&e.query.sort&&(g.sort=e.query.sort);var p={},f=function(){p=e.columns,Array.isArray(e.columns)&&(p={},e.columns.forEach(function(e){"string"==typeof e?p[e]={}:p[e.key]=e}))};f();var m=function(e,t){switch(e.direction){case a.ASC:g.sort=t;break;case a.DESC:g.sort="-"+t;break;case void 0:g.sort=null}},h=function(e){var i=angular.element(".ui-grid-contents-wrapper .ui-grid-loader",t);if(e&&0==i.length){var r='<i style="font-size:2em;position:absolute;z-index:200;left: 50%;top:50%;margin-left:-1em;margin-top:-1em;" class="ui-grid-loader glyphicon glyphicon-refresh glyphicon-spin"></i>';angular.element(".ui-grid-contents-wrapper",t).prepend(r)}else i.length&&i.remove()};e.gridOptionsDef=angular.merge({namespace:"row",dataRoot:"data.",responseData:"",responseTotal:"",endpoint:"",paginationPageSizes:[25,50,75],paginationPageSize:g.pageSize,enableHorizontalScrollbar:a.scrollbars.NEVER,enableVerticalScrollbar:a.scrollbars.NEVER,useExternalPagination:!0,useExternalSorting:!0,enableCellEdit:!1,enableCellEditOnFocus:!1,enableRowSelection:!0,enableRowHeaderSelection:!1,enableFiltering:!0,useExternalFiltering:!0,multiSelect:!1,loadOptions:null,columnDefs:[],data:[],initialLoad:!0,onRegisterApi:function(t){e.gridApi=t,t.pagination.on.paginationChanged(e,function(e,t){g.pageNumber=e,g.pageSize=t,v()}),t.core.on.renderingComplete(e,function(){h(!0)});var i=0;t.core.on.filterChanged(e,function(){var r=this.grid;i&&clearTimeout(i),i=setTimeout(function(){r.columns.forEach(function(t){var i="";t.filters&&t.filters.length>0&&(i=t.filters[0].term);var r=t.colDef.filterField||t.colDef.filter||t.colDef.field;r&&("function"==typeof r?r(e.query,i):"object"==typeof r?"select"===r.type&&("boolean"==typeof i?e.query[t.colDef.field]=i:i?e.query[t.colDef.field]=i:delete e.query[t.colDef.field]):i?e.query[r+"__regex"]="/"+o.escapeRegExCharacters(i)+"/i":delete e.query[r+"__regex"])}),t.pagination.seek(1),v()},500)});var r=!0;t.core.on.rowsRendered(e,function(){0!==t.grid.renderContainers.body.visibleRowCache.length&&(e.$emit("onGridLoadDone"),r=!1)}),t.selection&&(t.selection.on.rowSelectionChanged(e,function(t){e.$emit(e.gridOptionsDef.namespace+"Select",t.entity,t.isSelected)}),t.selection.on.rowSelectionChangedBatch(e,function(t){var i=!!t.length&&t[0].isSelected;e.$emit(e.gridOptionsDef.namespace+"SelectAll",t,i)})),
t.edit&&t.edit.on.afterCellEdit(e,function(t,i,r,n){e.$emit(e.gridOptionsDef.namespace+"CellEdit",t,i,r,n),e.$apply()}),t.core.on.sortChanged(e,function(e,i){if(0===i.length)g.sort=null;else{var r=i.length-1;m(i[r].sort,i[r].colDef.field)}t.pagination.seek(1),v()})}},e.gridOptions),g.pageSize=e.gridOptionsDef.paginationPageSize,e.buttons=e.buttons||[],e.buttonClick=function(t,i){e.$emit(t,i.entity,i)},angular.isUndefined(e.query)&&(e.query={});var v=function(t){u.then(function(){if(e.gridOptions&&e.gridOptions.columnDefs&&(e.gridOptionsDef.columnDefs=e.gridOptions.columnDefs),g.pageSize&&(e.query.limit=g.pageSize),g.pageNumber&&(e.query.skip=(g.pageNumber-1)*g.pageSize),e.query.sort=g.sort,e.gridOptionsDef.endpoint){var i=e.gridOptionsDef.endpoint,n={headers:{"x-jwt-token":r.getToken()}};if(e.aggregate){var o=t?t:angular.copy(e.aggregate),a={};if(angular.forEach(e.query,function(e,t){if(0===t.indexOf("data."))if(t.indexOf("__regex")!==-1){var i=e.match(/\/([^\/]+)\//);i=i&&i.length>1?i[1]:"",i&&(a[t.replace("__regex","")]={$regex:i,$options:"i"})}else a[t]=e}),Object.keys(a).length>0&&o.push({$match:a}),e.query.sort){var s={$sort:{}};if("-"===e.query.sort.charAt(0)){var d=e.query.sort.slice(1);s.$sort[d]=-1,o.push(s)}else s.$sort[e.query.sort]=1,o.push(s)}e.query.limit&&o.push({$limit:e.query.limit}),e.query.skip&&o.push({$skip:e.query.skip}),n.headers["x-query"]=JSON.stringify(o)}else n.params=t?t:e.query;e.$emit("onRequest",o||n.params),e.$emit("onRequest:"+e.gridOptionsDef.namespace,o||n.params),l.get(i,n).then(function(t){t.data||(t.data=[]);var i=t.headers("Content-Range");i&&(i=i.split("/"),i.length>1&&"*"!=i[1]&&(e.gridOptionsDef.totalItems=Number(i[1]))),e.gridOptionsDef.responseData?e.gridOptionsDef.data=t.data[e.gridOptionsDef.responseData]:e.gridOptionsDef.data=t.data?t.data:[],e.gridOptionsDef.responseTotal&&(e.gridOptionsDef.totalItems=t.data[e.gridOptionsDef.responseTotal]),C(t.data.length),h(!1),e.$emit("onData",t.data),e.$emit("onData:"+e.gridOptionsDef.namespace,t.data)},function(e){console.log("Error: "+e.message)})}else{if(!c)return;e.gridOptionsDef.data=[],e.$emit("onRequest",e.query),e.$emit("onRequest:"+e.gridOptionsDef.namespace,e.query),c.loadSubmissions({params:e.query},e.gridOptionsDef.loadOptions).then(function(t){e.gridOptionsDef.totalItems=t.serverCount,e.gridOptionsDef.data=t,C(t.length),h(!1),e.$emit("onData",t),e.$emit("onData:"+e.gridOptionsDef.namespace,t)})}})},C=function(r){return i(function(){var i=e.gridOptions&&e.gridOptions.height?e.gridOptions.height:30*e.gridApi.grid.getVisibleRowCount()+100;angular.element(".grid",t).height(i)},10),r},w=function(t){f();var i={},r=1;e.gridOptionsDef.columnDefs=e.gridOptions&&e.gridOptions.columnDefs?angular.copy(e.gridOptions.columnDefs):[],e.buttons.forEach(function(t){var r=t["class"]||"btn btn-sm btn-default";i[t.label]=!0,e.gridOptionsDef.columnDefs.unshift({name:t.label,field:t.key,width:t.width,enableFiltering:!1,cellTemplate:'<a class="'+r+'" ng-click="grid.appScope.buttonClick(\''+t.event+'\', row)"><span class="'+t.icon+'" aria-hidden="true"></span>'+t.label+"</a>"})});var n=0,a=function(o,a,l){a=a||{},0!==n||a.hasOwnProperty("link")||(a.link=!0);var s="";if(a.hasOwnProperty("label"))s=a.label;else if(o)for(s=o.label||o.key;i.hasOwnProperty(s);)s=o.label+r++;i[s]=!0;var d=a.template||'<formio-grid-cell class="ui-grid-cell-contents" data="COL_FIELD" component="col.colDef.component"></formio-grid-cell>';if(a.link){var u=a.linkClass,c=a.linkEvent||e.gridOptionsDef.namespace+"View";d='<a class="'+u+'" style="cursor:pointer;" ng-click="grid.appScope.buttonClick(\''+c+"', row)\">"+d+"</a>"}var g=a.field;a.field||(g=o?e.gridOptionsDef.dataRoot+o.key:l);var p={component:o,name:s,field:g,cellTemplate:d,form:t,enableCellEdit:!!a.enableCellEdit,enableFiltering:!!a.enableFiltering};["sort","filterField","filter","width","sortable","visible","minWidth","maxWidth","resizable","cellClass","headerCellClass","headerCellTemplate"].forEach(function(e){a.hasOwnProperty(e)&&(p[e]=a[e])}),e.gridOptionsDef.columnDefs.push(p),n++};if(p&&Object.keys(p).length>0){var l=t?o.flattenComponents(t.components):{};angular.forEach(p,function(e,t){if(e.sort&&e.sort.direction){var i=l.hasOwnProperty(t)?"data."+t:t;m(e.sort,e.field||i)}a(l[t],e,t)})}else t&&o.eachComponent(t.components,function(e){e.input&&e.tableView&&e.key&&a(e)});d.resolve(),e.gridOptionsDef.initialLoad&&v(),e.gridOptionsDef.initialLoad=!0,e.$emit("onGridReady"),e.$emit("onGridReady:"+e.gridOptionsDef.namespace)},y=function(){return e.src?(c=new r(e.src),void c.loadForm().then(w)):void w()},b=function(t){e.gridOptionsDef.enableRowSelection&&("string"==typeof t?angular.forEach(e.gridOptionsDef.data,function(i){i._id.toString()===t&&e.gridApi.selection.selectRow(i)}):e.gridApi.selection.selectRow(t))},S=function(t){h(!0),t&&(e.query=t),v(t)},E=function(t,i){t&&(e.src=t),i&&(e.query=i),h(!0),y()};e.$on("selectGridRow:"+e.gridOptionsDef.namespace,function(e,t){b(t)}),e.$on("selectGridRow",function(e,t){b(t)}),e.$on("reloadGrid:"+e.gridOptionsDef.namespace,function(e,t,i){E(t,i)}),e.$on("reloadGrid",function(e,t,i){E(t,i)}),e.$on("refreshGrid:"+e.gridOptionsDef.namespace,function(e,t){S(t)}),e.$on("setLoading",function(e,t){h(t)}),e.$on("refreshGrid",function(e,t){S(t)}),e.$on("adjustHeight",function(e,t){C(t)}),y()}]}}])},{}]},{},[2]);